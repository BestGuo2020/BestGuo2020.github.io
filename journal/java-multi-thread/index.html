<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="BestGuo2020"><meta name="copyright" content="BestGuo2020"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>Java çš„å¤šçº¿ç¨‹ | BestGuo çš„å°çª</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/png" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"www.bestguo.top","root":"/","title":["Best","Guo","çš„","å°","çª"],"version":"1.10.0","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"fireworks":{"colors":null},"waline":{"config":{"enable":true,"serverURL":"https://comment.bestguo.top","comment":true,"requiredFields":["nick","mail"],"placeholder":"æœ‰ä»€ä¹ˆæƒ³è¦å¯¹ BestGuo è¯´çš„å‘¢ï¼Œè¾“å…¥æ­£ç¡®æœ‰æ•ˆçš„é‚®ç®±æœ‰æœºä¼šæ”¶åˆ°å›å¤å“ŸğŸ˜ŠğŸ˜Š","avatarCDN":"https://seccdn.libravatar.org/avatar/","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo/","https://unpkg.com/@waline/emojis@1.0.1/bilibili/","https://unpkg.com/@waline/emojis@1.0.1/qq/","https://unpkg.com/@waline/emojis@1.0.1/tieba/"],"avatar":"monsterid","el":"#waline","lang":"zh-CN"},"cdn":"https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.js","dark":"html.dark"},"vendors":{"darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-907LWSSHLS"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-907LWSSHLS');
}</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="è¿›ç¨‹å’Œçº¿ç¨‹è¿›ç¨‹ï¼Œç»å¤§éƒ¨åˆ†ä½¿ç”¨è¿‡ç”µè„‘çš„äººéƒ½çŸ¥é“è¿™ä¸œè¥¿ã€‚è¿›ç¨‹æ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼ŒWindows ä¸Šæ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨å°±å¯ä»¥çœ‹åˆ°è®¸è®¸å¤šå¤šçš„è¿›ç¨‹ï¼Œæœ‰ä»€ä¹ˆç³»ç»Ÿè¿›ç¨‹å’Œç”¨æˆ·è¿›ç¨‹ã€‚  çº¿ç¨‹ï¼Œçº¿ç¨‹ä¼¼ä¹ç»å¤§éƒ¨åˆ†ä½¿ç”¨çš„è¿‡ç”µè„‘çš„äººéƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿè®¸åªåœ¨â€œæ€§èƒ½â€æ¨¡å—ä¸­çš„â€œCPUâ€ä¸­çœ‹åˆ°çº¿ç¨‹æ•°ã€‚çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œè¿™æ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿæ¯”å¦‚è‘—åçš„ x ç‹—æµè§ˆå™¨ï¼ˆéæ°é¥­ï¼‰ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨æˆ·åŠ è½½æµè§ˆå™¨çš„ç•Œé¢çš„ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨äºåŠ ">
<meta property="og:type" content="article">
<meta property="og:title" content="Java çš„å¤šçº¿ç¨‹">
<meta property="og:url" content="https://www.bestguo.top/journal/java-multi-thread/index.html">
<meta property="og:site_name" content="BestGuo çš„å°çª">
<meta property="og:description" content="è¿›ç¨‹å’Œçº¿ç¨‹è¿›ç¨‹ï¼Œç»å¤§éƒ¨åˆ†ä½¿ç”¨è¿‡ç”µè„‘çš„äººéƒ½çŸ¥é“è¿™ä¸œè¥¿ã€‚è¿›ç¨‹æ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼ŒWindows ä¸Šæ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨å°±å¯ä»¥çœ‹åˆ°è®¸è®¸å¤šå¤šçš„è¿›ç¨‹ï¼Œæœ‰ä»€ä¹ˆç³»ç»Ÿè¿›ç¨‹å’Œç”¨æˆ·è¿›ç¨‹ã€‚  çº¿ç¨‹ï¼Œçº¿ç¨‹ä¼¼ä¹ç»å¤§éƒ¨åˆ†ä½¿ç”¨çš„è¿‡ç”µè„‘çš„äººéƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿè®¸åªåœ¨â€œæ€§èƒ½â€æ¨¡å—ä¸­çš„â€œCPUâ€ä¸­çœ‹åˆ°çº¿ç¨‹æ•°ã€‚çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œè¿™æ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿæ¯”å¦‚è‘—åçš„ x ç‹—æµè§ˆå™¨ï¼ˆéæ°é¥­ï¼‰ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨æˆ·åŠ è½½æµè§ˆå™¨çš„ç•Œé¢çš„ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨äºåŠ ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.bestguo.top/journal/java-multi-thread/image-20210806100924445.png">
<meta property="og:image" content="https://www.bestguo.top/journal/java-multi-thread/QQ%E6%88%AA%E5%9B%BE20210625220159.png">
<meta property="og:image" content="https://www.bestguo.top/journal/java-multi-thread/image-20210806154504981.png">
<meta property="article:published_time" content="2021-08-05T07:50:03.000Z">
<meta property="article:modified_time" content="2022-05-25T10:47:48.999Z">
<meta property="article:author" content="BestGuo2020">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="å¤šçº¿ç¨‹">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.bestguo.top/journal/java-multi-thread/image-20210806100924445.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="BestGuo2020"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="BestGuo2020"><span class="site-author-status" title="æ¯•ä¸šå•¦">ğŸ‘¨â€ğŸ“</span></a><div class="site-author-name"><a href="/about/">BestGuo2020</a></div><a class="site-name" href="/about/site.html">BestGuo çš„å°çª</a><sub class="site-subtitle">å–„è‰¯ã€å‹‡æ•¢ã€å¯çˆ±</sub><div class="site-description">ä¸€ä¸ªäººçš„ä¸–ç•Œæ˜¯å¦‚æ­¤çš„å®‰é™</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">69</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">19</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">43</span></a></div><a class="site-state-item hty-icon-button" href="/albums/" title="ç›¸å†Œé›†"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:gallery-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=1540113012&amp;site=qq&amp;menu=yes" title="QQï¼šxiaohehe2021" target="_blank" style="color:#12B7F5"><span class="icon iconify" data-icon="ri:qq-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/bestguo2020" title="GitHubï¼šBestGuo2020" target="_blank" style="color:#8251e6"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/184681623" title="å“”å“©å“”å“©: æˆ‘å«äººå‘˜å¤–å©†" target="_blank" style="color:#FF8EB3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:bestguo2020@foxmail.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">è¿›ç¨‹å’Œçº¿ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">2.</span> <span class="toc-text">çº¿ç¨‹å’Œè¿›ç¨‹çš„å…³ç³»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#java-%E4%B8%AD%E7%9A%84%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">java ä¸­çš„çº¿ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.1.</span> <span class="toc-text">åˆ›å»ºä¸€ä¸ªçº¿ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-Thread-%E7%B1%BB"><span class="toc-number">3.1.1.</span> <span class="toc-text">ç»§æ‰¿ Thread ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-Runnable-%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.1.2.</span> <span class="toc-text">å®ç° Runnable æ¥å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">3.1.3.</span> <span class="toc-text">è¿è¡Œç»“æœ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E8%AE%AE%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.4.</span> <span class="toc-text">å»ºè®®åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A8%E7%96%91"><span class="toc-number">3.2.</span> <span class="toc-text">è´¨ç–‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%AD%94"><span class="toc-number">3.3.</span> <span class="toc-text">è§£ç­”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">4.</span> <span class="toc-text">çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#java-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text">java å¤šçº¿ç¨‹çš„ä¸€äº›ç®€å•æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E3%80%81%E4%BF%AE%E6%94%B9%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8D%E5%AD%97"><span class="toc-number">5.1.</span> <span class="toc-text">è·å–ã€ä¿®æ”¹çº¿ç¨‹çš„åå­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.2.</span> <span class="toc-text">è·å–å½“å‰çº¿ç¨‹çš„å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E4%BC%91%E7%9C%A0%E4%B8%8E%E5%94%A4%E9%86%92"><span class="toc-number">5.3.</span> <span class="toc-text">çº¿ç¨‹ä¼‘çœ ä¸å”¤é†’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%88%E6%AD%A2%E4%B8%80%E4%B8%AA%E7%BA%BF%E7%A8%8B"><span class="toc-number">5.4.</span> <span class="toc-text">ç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E7%BA%BF%E7%A8%8B%E4%BC%91%E7%9C%A0%E7%9A%84%E7%96%91%E9%97%AE"><span class="toc-number">5.5.</span> <span class="toc-text">å…³äºçº¿ç¨‹ä¼‘çœ çš„ç–‘é—®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#java-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B0%83%E5%BA%A6"><span class="toc-number">6.</span> <span class="toc-text">java å¤šçº¿ç¨‹çš„ä¸€äº›è°ƒåº¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">6.1.</span> <span class="toc-text">çº¿ç¨‹ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E8%AE%A9%E4%BD%8D"><span class="toc-number">6.2.</span> <span class="toc-text">çº¿ç¨‹è®©ä½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%88%E5%B9%B6"><span class="toc-number">6.3.</span> <span class="toc-text">çº¿ç¨‹åˆå¹¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-number">7.</span> <span class="toc-text">çº¿ç¨‹å®‰å…¨é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">7.1.</span> <span class="toc-text">ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%9C%A8%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%89%E4%B8%AA%E6%9D%A1%E4%BB%B6"><span class="toc-number">7.2.</span> <span class="toc-text">å­˜åœ¨å®‰å…¨é—®é¢˜çš„ä¸‰ä¸ªæ¡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><span class="toc-number">7.3.</span> <span class="toc-text">è§£å†³åŠæ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%AA%E7%A7%8D%E5%8F%98%E9%87%8F%E4%B8%8D%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-number">7.4.</span> <span class="toc-text">å“ªç§å˜é‡ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E5%85%B3%E9%94%AE%E5%AD%97%E5%86%99%E5%9C%A8%E6%96%B9%E6%B3%95%E4%B8%8A"><span class="toc-number">7.5.</span> <span class="toc-text">åŒæ­¥å…³é”®å­—å†™åœ¨æ–¹æ³•ä¸Š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#java-%E6%9C%89%E5%93%AA%E4%BA%9B%E7%B1%BB%E6%98%AF%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84"><span class="toc-number">7.6.</span> <span class="toc-text">java æœ‰å“ªäº›ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E4%B9%8B%E5%90%8E%E6%95%88%E7%8E%87%E4%BC%9A%E9%99%8D%E4%BD%8E"><span class="toc-number">7.7.</span> <span class="toc-text">ä¸ºä»€ä¹ˆçº¿ç¨‹åŒæ­¥ä¹‹åæ•ˆç‡ä¼šé™ä½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E4%B8%8A%E4%BD%BF%E7%94%A8%E5%90%8C%E6%AD%A5%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">7.8.</span> <span class="toc-text">åœ¨é™æ€æ–¹æ³•ä¸Šä½¿ç”¨åŒæ­¥å…³é”®å­—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%AD%BB%E9%94%81"><span class="toc-number">8.</span> <span class="toc-text">çº¿ç¨‹æ­»é”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text">å®ˆæŠ¤çº¿ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%A7%8D%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">10.</span> <span class="toc-text">ç¬¬ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wait-%E5%92%8C-notify"><span class="toc-number">11.</span> <span class="toc-text">wait å’Œ notify</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#wait"><span class="toc-number">11.1.</span> <span class="toc-text">wait</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#notify"><span class="toc-number">11.2.</span> <span class="toc-text">notify</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-number">11.3.</span> <span class="toc-text">ä½¿ç”¨æƒ…å†µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E5%92%8C%E6%B6%88%E8%B4%B9%E8%80%85"><span class="toc-number">12.</span> <span class="toc-text">ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E7%BA%BF%E7%A8%8B%E7%B1%BB"><span class="toc-number">12.1.</span> <span class="toc-text">ç”Ÿäº§è€…çº¿ç¨‹ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E8%B4%B9%E8%80%85%E7%BA%BF%E7%A8%8B%E7%B1%BB"><span class="toc-number">12.2.</span> <span class="toc-text">æ¶ˆè´¹è€…çº¿ç¨‹ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E7%BA%BF%E7%A8%8B%E6%B5%8B%E8%AF%95"><span class="toc-number">12.3.</span> <span class="toc-text">ä¸»çº¿ç¨‹æµ‹è¯•</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://www.bestguo.top/journal/java-multi-thread/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="BestGuo2020"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="BestGuo çš„å°çª"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Java çš„å¤šçº¿ç¨‹</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-08-05 15:50:03" itemprop="dateCreated datePublished" datetime="2021-08-05T15:50:03+08:00">2021-08-05</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-25 18:47:48" itemprop="dateModified" datetime="2022-05-25T18:47:48+08:00">2022-05-25</time></div><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><span class="icon iconify" data-icon="ri:eye-line"></span> <span id="busuanzi_value_page_pv"></span></span></span><span class="post-meta-divider">-</span><a href="#comment"><span class="post-meta-item-icon" title="è¯„è®ºæ•°"><span class="icon iconify" data-icon="ri:chat-3-line"></span> <span class="waline-comment-count" id="/journal/java-multi-thread/"></span></span></a><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">åç«¯å¼€å‘</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Java/" style="--text-color:#ff9900"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Java</span></a><a class="tag-item" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">å¤šçº¿ç¨‹</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h2 id="è¿›ç¨‹å’Œçº¿ç¨‹"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹"></a>è¿›ç¨‹å’Œçº¿ç¨‹</h2><p>è¿›ç¨‹ï¼Œç»å¤§éƒ¨åˆ†ä½¿ç”¨è¿‡ç”µè„‘çš„äººéƒ½çŸ¥é“è¿™ä¸œè¥¿ã€‚è¿›ç¨‹æ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼ŒWindows ä¸Šæ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨å°±å¯ä»¥çœ‹åˆ°è®¸è®¸å¤šå¤šçš„è¿›ç¨‹ï¼Œæœ‰ä»€ä¹ˆç³»ç»Ÿè¿›ç¨‹å’Œç”¨æˆ·è¿›ç¨‹ã€‚</p>
<p><img src="/journal/java-multi-thread/image-20210806100924445.png" alt="image-20210806100924445" loading="lazy"></p>
<p>çº¿ç¨‹ï¼Œçº¿ç¨‹ä¼¼ä¹ç»å¤§éƒ¨åˆ†ä½¿ç”¨çš„è¿‡ç”µè„‘çš„äººéƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿè®¸åªåœ¨â€œæ€§èƒ½â€æ¨¡å—ä¸­çš„â€œCPUâ€ä¸­çœ‹åˆ°çº¿ç¨‹æ•°ã€‚çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œè¿™æ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿæ¯”å¦‚è‘—åçš„ x ç‹—æµè§ˆå™¨ï¼ˆéæ°é¥­ï¼‰ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨æˆ·åŠ è½½æµè§ˆå™¨çš„ç•Œé¢çš„ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨äºåŠ è½½é¡µé¢ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨äºä¸‹è½½å›¾ç‰‡çš„ã€‚æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½åœ¨åšç€è‡ªå·±è¯¥åšçš„å·¥ä½œï¼Œå„å¸å…¶èŒã€‚</p>
<p><img src="/journal/java-multi-thread/QQ%E6%88%AA%E5%9B%BE20210625220159.png" loading="lazy"></p>
<p>è¿›ç¨‹ï¼Œå¥½æ¯”ä¸€å®¶å…¬å¸ã€‚è€Œçº¿ç¨‹ï¼Œå°±å¥½æ¯”å…¬å¸é‡Œçš„å‘˜å·¥ï¼Œä¸ºå…¬å¸åˆ›é€ ä»·å€¼ã€‚</p>
<span id="more"></span>

<h2 id="çº¿ç¨‹å’Œè¿›ç¨‹çš„å…³ç³»"><a href="#çº¿ç¨‹å’Œè¿›ç¨‹çš„å…³ç³»" class="headerlink" title="çº¿ç¨‹å’Œè¿›ç¨‹çš„å…³ç³»"></a>çº¿ç¨‹å’Œè¿›ç¨‹çš„å…³ç³»</h2><p>å‰é¢æåˆ°è¿‡ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚ä¸€ä¸ªè¿›ç¨‹ä¸­å¿…é¡»è¦æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œå¯ä»¥æœ‰å¤šä¸ªè¿›ç¨‹ã€‚</p>
<p>æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ä½¿ç”¨è¿›ç¨‹æ‰€å¼€è¾Ÿçš„å†…å­˜ç©ºé—´ä¸­çš„å†…å®¹ã€‚</p>
<p>è¿™å°±å¯ä»¥æ¯”å–»æˆï¼Œä½ å¯ä»¥ä½¿ç”¨ä½ æ‰€åœ¨çš„å…¬å¸é‡Œçš„ wifi æ¥ä¸Šç½‘ï¼Œä½¿ç”¨å…¬å¸é‡Œçš„ç©ºè°ƒæ¥äº«å—ç€å¸¦æ¥çš„å‡‰çˆ½ã€‚ä½†æ˜¯ä¸èƒ½ä½¿ç”¨å…¶å®ƒè¿›ç¨‹ä¸­çš„å†…å­˜ç©ºé—´ã€‚</p>
<p>æ¯”å¦‚ä½ æ˜¯æ‹¼å¤•å¤•çš„å‘˜å·¥ï¼Œä½ æƒ³ç›´æ¥å»äº¬ä¸œè¹­ wifi å—ï¼Œè¿™èƒ½è¡Œå—ï¼Ÿè¿™æ˜¾ç„¶æ˜¯ä¸å¯ä»¥çš„ã€‚çº¿ç¨‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<h2 id="java-ä¸­çš„çº¿ç¨‹"><a href="#java-ä¸­çš„çº¿ç¨‹" class="headerlink" title="java ä¸­çš„çº¿ç¨‹"></a>java ä¸­çš„çº¿ç¨‹</h2><p>åœ¨ java ä¸­ï¼Œæˆ‘ä»¬å¹³æ—¶å†™çš„æ§åˆ¶å°ç¨‹åºï¼Œè¿è¡Œæ—¶è®¤ä¸ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯ main æ–¹æ³•æ‰€æ‰§è¡Œçš„çº¿ç¨‹ã€‚ä½†æ˜¯å¹¶ä¸æ˜¯ï¼Œè¿˜æœ‰ä¸€ä¸ªåƒåœ¾å›æ”¶å™¨çš„çº¿ç¨‹ï¼Œæ€»å…±æœ‰ä¸¤ä¸ªçº¿ç¨‹ã€‚åƒåœ¾å›æ”¶å™¨çš„ç›®çš„å°±æ˜¯å°†æ— ç”¨çš„èµ„æºé‡Šæ”¾æ‰ï¼Œä¸º java è™šæ‹Ÿæœºè…¾å‡ºæ›´å¤šçš„å†…å­˜ç©ºé—´ï¼Œç”±äºè¿™é‡Œä¸»è¦æ˜¯è®¨è®ºå¤šçº¿ç¨‹ï¼Œå…³äºåƒåœ¾å›æ”¶å™¨ï¼Œè¿™é‡Œä¸è¿‡å¤šèµ˜è¿°ã€‚</p>
<p><strong>é‚£ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±åˆ›å»ºçº¿ç¨‹å—ï¼Ÿ</strong></p>
<p>è¿™ä¸æ˜¯ FIFA å˜›ï¼Œå†™è¿™ç¯‡æ—¥å¿—çš„ç›®çš„å°±æ˜¯è®©æˆ‘è‡ªå·±èƒ½å¤Ÿæ›´åŠ çš„äº†è§£ java çš„çº¿ç¨‹ï¼Œä»¥åŠçº¿ç¨‹ä¸­çš„ä¸€äº›é—®é¢˜ã€‚</p>
<p><strong>æä¸ªç®€å•çš„é—®é¢˜å§</strong></p>
<p>æˆ‘æœ€è¿‘åœ¨å­¦ä¹ çš„æ—¶å€™ï¼Œçœ‹åˆ°ä¸€ä¸ªè¿™æ ·çš„ä»£ç ï¼Œä»–é—®ï¼Œç¨‹åºåœ¨æ‰§è¡Œæ—¶å…±å¼€å¯äº†å¤šå°‘ä¸ªçº¿ç¨‹ï¼Ÿ</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Question1</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"mainæ‰§è¡Œ--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"mainç»“æŸ--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"method1æ‰§è¡Œ--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">method2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"method1ç»“æŸ--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"method2æ‰§è¡Œ--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">method3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"method2ç»“æŸ--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"method3æ‰§è¡Œ--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¯·ä¸è¦ç«‹å³å±•å¼€ï¼Œå…ˆæ€è€ƒ 30 ç§’é’Ÿã€‚</p>
<details>
    <p>æ€ä¹ˆæ ·ï¼Œè‚¯å®šæœ‰äººè®¤ä¸ºè¿™æ˜¯ 4 ä¸ªçº¿ç¨‹å§ã€‚å…¶å®ï¼Œçº¿ç¨‹åªæœ‰ 1 ä¸ªï¼</p>
    <p>å› ä¸ºè¿™å¾ˆç®€å•ï¼Œåªæ˜¯æ–¹æ³•ä¹‹é—´çš„è°ƒç”¨è€Œå·²å‘€ã€‚</p>
</details>

<h3 id="åˆ›å»ºä¸€ä¸ªçº¿ç¨‹"><a href="#åˆ›å»ºä¸€ä¸ªçº¿ç¨‹" class="headerlink" title="åˆ›å»ºä¸€ä¸ªçº¿ç¨‹"></a>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹</h3><p>çº¿ç¨‹çš„åˆ›å»ºéå¸¸ç®€å•çš„ï¼Œæ€»å…±æœ‰ä¸‰ç§æ–¹æ³•ã€‚ç›®å‰æˆ‘ä¹Ÿæ˜¯åˆšåˆšå­¦ï¼Œæ‰€ä»¥ç›®å‰åªçŸ¥é“ä¸¤ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡ç»§æ‰¿ Thread ç±»æ¥åˆ›å»ºçº¿ç¨‹ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡è‡ªå·±å®ç° Runnable æ¥å£æ¥åˆ›å»ºçº¿ç¨‹ã€‚</p>
<p>ç„¶åå†è°ƒç”¨ start æ–¹æ³•å»åˆ›å»ºçº¿ç¨‹ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªçº¿ç¨‹å°±è¿™æ ·æˆåŠŸçš„å¼€èµ·äº†ã€‚</p>
<h4 id="ç»§æ‰¿-Thread-ç±»"><a href="#ç»§æ‰¿-Thread-ç±»" class="headerlink" title="ç»§æ‰¿ Thread ç±»"></a>ç»§æ‰¿ Thread ç±»</h4><p>ç»§æ‰¿ Thread ç±»çš„ç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThreadTest</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">MyThread</span> myThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸»çº¿ç¨‹------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/**
 * ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­çº¿ç¨‹------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</code></pre>

<h4 id="å®ç°-Runnable-æ¥å£"><a href="#å®ç°-Runnable-æ¥å£" class="headerlink" title="å®ç° Runnable æ¥å£"></a>å®ç° Runnable æ¥å£</h4><p>å®ç° Runnable æ¥å£åˆ›å»ºçº¿ç¨‹çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚è¿™é‡Œä½¿ç”¨åˆ°çš„æ–¹å¼æ˜¯ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ï¼Œå½“ç„¶ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªç±»æ¥å®ç° Runnable æ¥å£çš„æ–¹å¼ï¼Œå®ä¾‹åŒ–ä½ åˆ›å»ºçš„ç±»ï¼Œä¼ å…¥åˆ° Thread ç±»ä¸­çš„æ„é€ æ–¹æ³•å³å¯ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnableTest</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Thread</span> myThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­çº¿ç¨‹------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸»çº¿ç¨‹------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h4 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h4><p>ç”±äºè¿è¡Œç»“æœå®åœ¨æ˜¯å¤ªé•¿äº†ï¼Œæˆ‘å°†è¿è¡Œçš„ç»“æœè¿›è¡ŒæŠ˜å äº†ã€‚åç»­çš„è¿è¡Œç»“æœä¹Ÿæ˜¯å¦‚æ­¤</p>
<details>
    <summary>ç‚¹å‡»æŸ¥çœ‹è¿è¡Œç»“æœ</summary>
<pre>
ä¸»çº¿ç¨‹------0
å­çº¿ç¨‹------0
å­çº¿ç¨‹------1
å­çº¿ç¨‹------2
å­çº¿ç¨‹------3
å­çº¿ç¨‹------4
å­çº¿ç¨‹------5
å­çº¿ç¨‹------6
å­çº¿ç¨‹------7
å­çº¿ç¨‹------8
å­çº¿ç¨‹------9
å­çº¿ç¨‹------10
å­çº¿ç¨‹------11
å­çº¿ç¨‹------12
å­çº¿ç¨‹------13
å­çº¿ç¨‹------14
å­çº¿ç¨‹------15
å­çº¿ç¨‹------16
å­çº¿ç¨‹------17
å­çº¿ç¨‹------18
å­çº¿ç¨‹------19
å­çº¿ç¨‹------20
å­çº¿ç¨‹------21
å­çº¿ç¨‹------22
å­çº¿ç¨‹------23
å­çº¿ç¨‹------24
å­çº¿ç¨‹------25
å­çº¿ç¨‹------26
å­çº¿ç¨‹------27
å­çº¿ç¨‹------28
å­çº¿ç¨‹------29
å­çº¿ç¨‹------30
å­çº¿ç¨‹------31
å­çº¿ç¨‹------32
å­çº¿ç¨‹------33
å­çº¿ç¨‹------34
å­çº¿ç¨‹------35
å­çº¿ç¨‹------36
å­çº¿ç¨‹------37
å­çº¿ç¨‹------38
å­çº¿ç¨‹------39
å­çº¿ç¨‹------40
å­çº¿ç¨‹------41
å­çº¿ç¨‹------42
å­çº¿ç¨‹------43
å­çº¿ç¨‹------44
å­çº¿ç¨‹------45
å­çº¿ç¨‹------46
å­çº¿ç¨‹------47
å­çº¿ç¨‹------48
å­çº¿ç¨‹------49
å­çº¿ç¨‹------50
å­çº¿ç¨‹------51
å­çº¿ç¨‹------52
å­çº¿ç¨‹------53
å­çº¿ç¨‹------54
å­çº¿ç¨‹------55
å­çº¿ç¨‹------56
å­çº¿ç¨‹------57
å­çº¿ç¨‹------58
å­çº¿ç¨‹------59
å­çº¿ç¨‹------60
å­çº¿ç¨‹------61
å­çº¿ç¨‹------62
å­çº¿ç¨‹------63
å­çº¿ç¨‹------64
å­çº¿ç¨‹------65
å­çº¿ç¨‹------66
å­çº¿ç¨‹------67
å­çº¿ç¨‹------68
å­çº¿ç¨‹------69
å­çº¿ç¨‹------70
å­çº¿ç¨‹------71
å­çº¿ç¨‹------72
å­çº¿ç¨‹------73
å­çº¿ç¨‹------74
å­çº¿ç¨‹------75
å­çº¿ç¨‹------76
å­çº¿ç¨‹------77
å­çº¿ç¨‹------78
å­çº¿ç¨‹------79
å­çº¿ç¨‹------80
å­çº¿ç¨‹------81
ä¸»çº¿ç¨‹------1
ä¸»çº¿ç¨‹------2
ä¸»çº¿ç¨‹------3
å­çº¿ç¨‹------82
å­çº¿ç¨‹------83
å­çº¿ç¨‹------84
å­çº¿ç¨‹------85
å­çº¿ç¨‹------86
å­çº¿ç¨‹------87
å­çº¿ç¨‹------88
å­çº¿ç¨‹------89
å­çº¿ç¨‹------90
å­çº¿ç¨‹------91
å­çº¿ç¨‹------92
å­çº¿ç¨‹------93
å­çº¿ç¨‹------94
å­çº¿ç¨‹------95
å­çº¿ç¨‹------96
å­çº¿ç¨‹------97
å­çº¿ç¨‹------98
å­çº¿ç¨‹------99
ä¸»çº¿ç¨‹------4
ä¸»çº¿ç¨‹------5
ä¸»çº¿ç¨‹------6
ä¸»çº¿ç¨‹------7
ä¸»çº¿ç¨‹------8
ä¸»çº¿ç¨‹------9
ä¸»çº¿ç¨‹------10
ä¸»çº¿ç¨‹------11
ä¸»çº¿ç¨‹------12
ä¸»çº¿ç¨‹------13
ä¸»çº¿ç¨‹------14
ä¸»çº¿ç¨‹------15
ä¸»çº¿ç¨‹------16
ä¸»çº¿ç¨‹------17
ä¸»çº¿ç¨‹------18
ä¸»çº¿ç¨‹------19
ä¸»çº¿ç¨‹------20
ä¸»çº¿ç¨‹------21
ä¸»çº¿ç¨‹------22
ä¸»çº¿ç¨‹------23
ä¸»çº¿ç¨‹------24
ä¸»çº¿ç¨‹------25
ä¸»çº¿ç¨‹------26
ä¸»çº¿ç¨‹------27
ä¸»çº¿ç¨‹------28
ä¸»çº¿ç¨‹------29
ä¸»çº¿ç¨‹------30
ä¸»çº¿ç¨‹------31
ä¸»çº¿ç¨‹------32
ä¸»çº¿ç¨‹------33
ä¸»çº¿ç¨‹------34
ä¸»çº¿ç¨‹------35
ä¸»çº¿ç¨‹------36
ä¸»çº¿ç¨‹------37
ä¸»çº¿ç¨‹------38
ä¸»çº¿ç¨‹------39
ä¸»çº¿ç¨‹------40
ä¸»çº¿ç¨‹------41
ä¸»çº¿ç¨‹------42
ä¸»çº¿ç¨‹------43
ä¸»çº¿ç¨‹------44
ä¸»çº¿ç¨‹------45
ä¸»çº¿ç¨‹------46
ä¸»çº¿ç¨‹------47
ä¸»çº¿ç¨‹------48
ä¸»çº¿ç¨‹------49
ä¸»çº¿ç¨‹------50
ä¸»çº¿ç¨‹------51
ä¸»çº¿ç¨‹------52
ä¸»çº¿ç¨‹------53
ä¸»çº¿ç¨‹------54
ä¸»çº¿ç¨‹------55
ä¸»çº¿ç¨‹------56
ä¸»çº¿ç¨‹------57
ä¸»çº¿ç¨‹------58
ä¸»çº¿ç¨‹------59
ä¸»çº¿ç¨‹------60
ä¸»çº¿ç¨‹------61
ä¸»çº¿ç¨‹------62
ä¸»çº¿ç¨‹------63
ä¸»çº¿ç¨‹------64
ä¸»çº¿ç¨‹------65
ä¸»çº¿ç¨‹------66
ä¸»çº¿ç¨‹------67
ä¸»çº¿ç¨‹------68
ä¸»çº¿ç¨‹------69
ä¸»çº¿ç¨‹------70
ä¸»çº¿ç¨‹------71
ä¸»çº¿ç¨‹------72
ä¸»çº¿ç¨‹------73
ä¸»çº¿ç¨‹------74
ä¸»çº¿ç¨‹------75
ä¸»çº¿ç¨‹------76
ä¸»çº¿ç¨‹------77
ä¸»çº¿ç¨‹------78
ä¸»çº¿ç¨‹------79
ä¸»çº¿ç¨‹------80
ä¸»çº¿ç¨‹------81
ä¸»çº¿ç¨‹------82
ä¸»çº¿ç¨‹------83
ä¸»çº¿ç¨‹------84
ä¸»çº¿ç¨‹------85
ä¸»çº¿ç¨‹------86
ä¸»çº¿ç¨‹------87
ä¸»çº¿ç¨‹------88
ä¸»çº¿ç¨‹------89
ä¸»çº¿ç¨‹------90
ä¸»çº¿ç¨‹------91
ä¸»çº¿ç¨‹------92
ä¸»çº¿ç¨‹------93
ä¸»çº¿ç¨‹------94
ä¸»çº¿ç¨‹------95
ä¸»çº¿ç¨‹------96
ä¸»çº¿ç¨‹------97
ä¸»çº¿ç¨‹------98
ä¸»çº¿ç¨‹------99
</pre>
</details>

<h4 id="å»ºè®®åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼"><a href="#å»ºè®®åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼" class="headerlink" title="å»ºè®®åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼"></a>å»ºè®®åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼</h4><p>å¼ºçƒˆå»ºè®®ä½¿ç”¨å®ç° Runnable æ¥å£çš„æ–¹å¼ï¼Œå› ä¸ºåœ¨ java ä¸­ï¼Œç»§æ‰¿åªèƒ½æ˜¯å•ä¸€çš„ç»§æ‰¿ï¼Œä¸èƒ½å¤šç»§æ‰¿ï¼Œå¦‚æœä½¿ç”¨ç»§æ‰¿ Thread çš„æ–¹å¼ï¼Œå°±ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚è€Œåœ¨ java ä¸­ï¼Œå¯ä»¥è¿™æ ·å­å†™ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Example1</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractModule</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//......</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="è´¨ç–‘"><a href="#è´¨ç–‘" class="headerlink" title="è´¨ç–‘"></a>è´¨ç–‘</h3><ol>
<li>ä¸ºä»€ä¹ˆæˆ‘è¿è¡Œçš„ç»“æœå’Œè§†é¢‘ä¸Šè¿è¡Œçš„ç»“æœæ˜¯å®Œå…¨ä¸ä¸€æ ·çš„å‘€ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆæˆ‘è¿è¡Œçš„æ—¶å€™ï¼Œæ€»æ˜¯ä¸»çº¿ç¨‹ç°æ‰§è¡Œè€Œä¸æ˜¯å­çº¿ç¨‹å…ˆæ‰§è¡Œï¼Ÿ</li>
<li>ä¸»çº¿ç¨‹ä¸€å®šæ˜¯æœ€å…ˆè¿è¡Œçš„å—ï¼Œå­çº¿ç¨‹å°±æ²¡æœ‰å…ˆè¾“å‡ºçš„æƒåˆ©å—ï¼Ÿ</li>
<li>ä½ çœ‹ï¼Œæˆ‘çš„è¿è¡Œç»“æœå®Œäº†ä¹‹åï¼Œå®ƒå°±æ˜¯ä¸»çº¿ç¨‹å…ˆæ‰§è¡Œå®Œå†æ‰§è¡Œå­çº¿ç¨‹ï¼Œè¿™æˆ‘è§‰å¾—å’Œå•çº¿ç¨‹æ²¡ä»€ä¹ˆåŒºåˆ«å‘€ï¼Ÿ</li>
<li>è°ƒç”¨ start æ–¹æ³•å’Œè°ƒç”¨çš„ run çš„æ–¹æ³•å¥½åƒæ²¡ä»€ä¹ˆåŒºåˆ«å§ï¼Ÿ</li>
<li>â€¦â€¦</li>
</ol>
<p>ä»¥ä¸Šæ˜¯æˆ‘åœ¨å¤šçº¿ç¨‹å­¦ä¹ æ—¶ï¼Œæˆ‘ç›®å‰æ‰€é‡åˆ°çš„ç–‘é—®ï¼Œå¯èƒ½è¿˜æœ‰å…¶å®ƒçš„é—®é¢˜ã€‚æ˜¾ç„¶ï¼Œå‡ºç° 1~4 ç‚¹è¿™æ ·çš„ç–‘é—®çš„åŸå› ç»å¤§å¤šæ˜¯ä¸äº†è§£çš„çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ‰€é€ æˆçš„ã€‚å½“ç„¶ï¼Œç¬¬ 5 ç‚¹æ˜¯è‡ªèº« java åŸºç¡€çš„é—®é¢˜äº†ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯æˆ‘å¤§ä¸“æ—¶æœŸåˆšå­¦ä¹  java çš„æ—¶å€™å­¦ä¹ å¤šçº¿ç¨‹éƒ¨åˆ†æ‰€ç¢°åˆ°çš„é—®é¢˜ã€‚</p>
<h3 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h3><p>å…ˆä»æœ€ç®€å•çš„ç¬¬ 5 ç‚¹å¼€å§‹è¯´èµ·å§ã€‚</p>
<p>è°ƒç”¨ run æ–¹æ³•å’Œè°ƒç”¨ start æ–¹æ³•çš„éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å…¥æ ˆå’Œå¼¹æ ˆï¼Œä»…ä»…åªæ˜¯è°ƒç”¨äº†ç±»ä¸­çš„æ–¹æ³•è€Œå·²ã€‚ä½†æ˜¯ä»”ç»†æ€è€ƒï¼Œrun æ–¹æ³•é‡Œé¢çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿæ¯”å¦‚ä¸Šé¢é‚£ä¸¤ä¸ªä¾‹å­ï¼Œrun æ–¹æ³•æ˜¯éœ€è¦è‡ªå·±å®ç°çš„ï¼Œå®ç°çš„é‡Œé¢æ˜¯ä¸€ä¸ª for å¾ªç¯ã€‚è€Œ start æ–¹æ³•é‡Œé¢æ˜¯å•¥ï¼Œæˆ‘æŠŠå†…å®¹æ”¾å‡ºæ¥å¦‚ä¸‹ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/**
      * This method is not invoked for the main method thread or "system"
      * group threads created/set up by the VM. Any new functionality added
      * to this method in the future may have to also be added to the VM.
      *
      * A zero status value corresponds to state "NEW".
      */</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>threadStatus <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalThreadStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* Notify the group that this thread is about to be started
     * so that it can be added to the group's list of threads
     * and the group's unstarted count can be decremented. */</span>
    group<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> started <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token function">start0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        started <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>started<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                group<span class="token punctuation">.</span><span class="token function">threadStartFailed</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> ignore<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">/* do nothing. If start0 threw a Throwable then
                  it will be passed up the call stack */</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>å…ˆä¸çœ‹è¿™é‡Œé¢å¤æ‚çš„å†…å®¹ï¼Œä½†æ˜¯æ²¡æœ‰çœ‹åˆ° start æ–¹æ³•é‡Œæœ‰åœ¨è°ƒç”¨ run æ–¹æ³•ã€‚è¿™å°±æ„å‘³ç€ï¼Œstart æ–¹æ³•å’Œ run æ–¹æ³•æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ã€‚åˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹ï¼Œè¿™ä¸ª run æ–¹æ³•å…¶å®å°±ç›¸å½“äºä¸»çº¿ç¨‹ä¸­çš„ main æ–¹æ³•ä¸€æ ·çš„ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ start æ–¹æ³•å°±æ˜¯åˆ›å»ºçº¿ç¨‹ç”¨çš„ã€‚</p>
<p>ä»¥ä¸Šçš„å››ä¸ªé—®é¢˜ï¼Œå°±å•ç‹¬ç”¨ä¸€ä¸ªå†…å®¹æ¥è¯´ã€‚</p>
<h2 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>çº¿ç¨‹ä¸»è¦æœ‰ 5 ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯ â€œåˆ›å»ºâ€ã€â€œå°±ç»ªâ€ã€â€œè¿è¡Œâ€ã€â€œé˜»å¡â€ å’Œ â€œæ­»äº¡â€ è¿™ 5 ç§çŠ¶æ€ã€‚å¯ä»¥ç”¨è¿™å¼ å›¾æ¥æè¿°ä¸€ä¸‹ã€‚</p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯æ—¶é—´ç‰‡ï¼Ÿå¦‚æœä½ å­¦è¿‡ç—›è‹¦çš„æ“ä½œç³»ç»Ÿï¼Œä½ å°±çŸ¥é“ã€‚</p>
<p>æ—¶é—´ç‰‡å³ CPU åˆ†é…ç»™å„ä¸ªç¨‹åºçš„æ—¶é—´ï¼Œæ¯ä¸ªçº¿ç¨‹è¢«åˆ†é…ä¸€ä¸ªæ—¶é—´æ®µï¼Œç§°ä½œå®ƒçš„æ—¶é—´ç‰‡ï¼Œå³è¯¥çº¿ç¨‹å…è®¸è¿è¡Œçš„æ—¶é—´ã€‚</p>
</blockquote>
<p><img src="/journal/java-multi-thread/image-20210806154504981.png" alt="image-20210806154504981" loading="lazy"></p>
<p>åœ¨ java ä¸­ï¼Œé€šè¿‡åˆ›å»ºå‡ºæ¥çš„ Thread å¯¹è±¡ï¼Œè¦æƒ³çœŸæ­£çš„åˆ›å»ºå‡ºçº¿ç¨‹ï¼Œåˆ™å¿…é¡»è°ƒç”¨å…¶ start æ–¹æ³•ã€‚è°ƒç”¨å®ƒçš„ start æ–¹æ³•ï¼Œæ­¤æ—¶çº¿ç¨‹åˆ›å»ºå®Œæˆã€‚</p>
<p>åˆ›å»ºçš„çº¿ç¨‹èƒ½å¤Ÿç›´æ¥è¿è¡Œå—ï¼Ÿå½“ç„¶ä¸èƒ½ï¼Œè¦å…ˆè¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œç­‰å¾… CPU çš„è°ƒåº¦æ‰èƒ½å¤Ÿæ‰§è¡Œã€‚å‡å¦‚è¿™ä¸ªç¨‹åºä¸­å…±æœ‰ 2 ä¸ªçº¿ç¨‹ï¼Œå½“ç¬¬ä¸€ä¸ªç¨‹åºçš„æ—¶é—´ç‰‡åˆ°äº†ï¼Œä»–å°±éœ€è¦è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œç­‰å¾… CPU çš„è°ƒåº¦ã€‚ä½†æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹ä¸€å®šä¼šè¿è¡ŒçŠ¶æ€ä¹ˆï¼Ÿæ˜¾ç„¶è¿™æ˜¯ä¸ä¸€å®šçš„ï¼Œæœ‰å¯èƒ½çº¿ç¨‹ 1 ä¼šç»§ç»­æ‰§è¡Œï¼Œä¹Ÿæœ‰å¯èƒ½çº¿ç¨‹ 2 ä¼šç»§ç»­æ‰§è¡Œã€‚è¿™å°±æœ‰äº†ä¸Šé¢çš„ç¤ºä¾‹æ‰€è¾“å‡ºçš„ç»“æœï¼Œå³ä¸»çº¿ç¨‹æ‰§è¡Œåˆ° 0 ï¼Œå­çº¿ç¨‹å°±çªç„¶ä» 0 ä¸€æ¬¡æ€§æ‰§è¡Œåˆ° 99ï¼Œä¹Ÿå°±æœ‰äº†æ¯æ¬¡è¾“å‡ºéƒ½æ˜¯ä¸åŒçš„ç»“æœçš„åŸå› äº†ã€‚</p>
<p>ç”±äº CPU çš„åˆ‡æ¢çš„é¢‘ç‡éå¸¸ä¹‹å¿«ã€‚è¿™å°±çœ‹èµ·æ¥åƒæ˜¯ï¼Œå®è§‚ä¸Šæ˜¯å¹¶è¡Œï¼ˆåŒæ—¶è¿è¡Œï¼‰ï¼Œå¾®è§‚ä¸Šæ˜¯ä¸²è¡Œï¼ˆä¸€ä¸ªä¸€ä¸ªè¿è¡Œï¼‰ã€‚</p>
<p>é‚£é˜»å¡çŠ¶æ€ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°å‘ï¼Ÿæ¯”å¦‚ï¼Œçº¿ç¨‹ 2 ä¸­çªç„¶é‡åˆ°äº†é”®ç›˜è¾“å…¥çš„æ“ä½œï¼Œéœ€è¦ç­‰å¾…ç”¨æˆ·è¾“å…¥å®Œæˆæ‰èƒ½æ‰§è¡Œçš„ä¸‹ä¸€æ­¥æ“ä½œï¼Œåœ¨è¾“å…¥å®Œæˆä¹‹å‰ï¼Œå¤„äºè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹ 2 å°±è¿›å…¥äº†é˜»å¡çŠ¶æ€ï¼Œæ­¤æ—¶çº¿ç¨‹ 1 å—åˆ° CPU çš„è°ƒåº¦ç»§ç»­æ‰§è¡Œç€ã€‚ç”¨æˆ·è¾“å…¥å®Œæˆä¹‹åï¼Œçº¿ç¨‹ 2 åªå¥½è¿›å…¥å°±ç»ªçš„çŠ¶æ€äº†ï¼Œç­‰å¾… CPU çš„è°ƒåº¦äº†ã€‚</p>
<p>é‚£æ­»äº¡çŠ¶æ€åˆæ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Ÿåœ¨ java ä¸­ï¼Œæ­»äº¡çŠ¶æ€å°±æ˜¯çº¿ç¨‹ä¸­çš„ run æ–¹æ³•ï¼Œæˆ–è€…ä¸»çº¿ç¨‹çš„ main æ–¹æ³•ä¸­çš„ä»£ç è¿è¡Œç»“æŸäº†ã€‚çº¿ç¨‹å°±å¤„äºæ­»äº¡çŠ¶æ€äº†ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸»çº¿ç¨‹è¿è¡Œç»“æŸäº†ï¼Œå­çº¿ç¨‹å°±æå‰æŒ‚äº†å—ï¼Ÿè¿™æ˜¯ç»å¯¹ä¸å¯èƒ½çš„ã€‚</p>
<p>å…¶å®ï¼Œä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹å¹¶ä¸æ˜¯â€œçˆ¶å­â€å…³ç³»ï¼Œè€Œæ˜¯â€œå…„å¼Ÿâ€å…³ç³»ã€‚</p>
<h2 id="java-å¤šçº¿ç¨‹çš„ä¸€äº›ç®€å•æ“ä½œ"><a href="#java-å¤šçº¿ç¨‹çš„ä¸€äº›ç®€å•æ“ä½œ" class="headerlink" title="java å¤šçº¿ç¨‹çš„ä¸€äº›ç®€å•æ“ä½œ"></a>java å¤šçº¿ç¨‹çš„ä¸€äº›ç®€å•æ“ä½œ</h2><p>æ¯”å¦‚ï¼Œè·å–ã€ä¿®æ”¹çº¿ç¨‹çš„åå­—ï¼Œè·å–å½“å‰çº¿ç¨‹çš„å¯¹è±¡ï¼Œè®©å½“å‰çº¿ç¨‹ä¼‘çœ ï¼ˆè¿›å…¥é˜»å¡çŠ¶æ€ï¼‰ï¼Œå”¤é†’æ­£åœ¨ä¼‘çœ çš„çº¿ç¨‹ï¼Œå¼ºè¡Œæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Œåˆç†çš„å…³é—­æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ã€‚</p>
<h3 id="è·å–ã€ä¿®æ”¹çº¿ç¨‹çš„åå­—"><a href="#è·å–ã€ä¿®æ”¹çº¿ç¨‹çš„åå­—" class="headerlink" title="è·å–ã€ä¿®æ”¹çº¿ç¨‹çš„åå­—"></a>è·å–ã€ä¿®æ”¹çº¿ç¨‹çš„åå­—</h3><p>ä½¿ç”¨ setName æ–¹æ³•æ¥ä¿®æ”¹çº¿ç¨‹çš„åå­—ï¼Œä½¿ç”¨ getName æ–¹æ³•æ¥è·å–çº¿ç¨‹çš„åå­—</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// do something......</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¾ç½®çº¿ç¨‹åå­—</span>
t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å°èµ«èµ«"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h3 id="è·å–å½“å‰çº¿ç¨‹çš„å¯¹è±¡"><a href="#è·å–å½“å‰çº¿ç¨‹çš„å¯¹è±¡" class="headerlink" title="è·å–å½“å‰çº¿ç¨‹çš„å¯¹è±¡"></a>è·å–å½“å‰çº¿ç¨‹çš„å¯¹è±¡</h3><p>è·å–å½“å‰çº¿ç¨‹å¯¹è±¡çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œä½¿ç”¨ currentThread æ–¹æ³•æ¥è°ƒç”¨å½“å‰çš„çº¿ç¨‹å¯¹è±¡ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span> currentThread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>å¦‚æœæ˜¯åœ¨ä¸»çº¿ç¨‹ä¸‹ï¼Œå¾—åˆ°çš„æ˜¯ä¸»çº¿ç¨‹çš„å¯¹è±¡ã€‚å¦‚æœæ˜¯è‡ªå·±åˆ›å»ºçš„çº¿ç¨‹ï¼Œå°±è·å–è‡ªå·±åˆ›å»ºçº¿ç¨‹çš„å¯¹è±¡ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// æ–°çº¿ç¨‹å¯¹è±¡</span>
	    <span class="token class-name">Thread</span> mainThread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// do something......</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä¸»çº¿ç¨‹å¯¹è±¡</span>
<span class="token class-name">Thread</span> mainThread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h3 id="çº¿ç¨‹ä¼‘çœ ä¸å”¤é†’"><a href="#çº¿ç¨‹ä¼‘çœ ä¸å”¤é†’" class="headerlink" title="çº¿ç¨‹ä¼‘çœ ä¸å”¤é†’"></a>çº¿ç¨‹ä¼‘çœ ä¸å”¤é†’</h3><p>ä½¿ç”¨ sleep æ–¹æ³•æ¥ä¼‘çœ ä¸€ä¸ªçº¿ç¨‹ã€‚å•ä½æ˜¯æ¯«ç§’ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>å”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œå”¤é†’ä¸€ä¸ªçº¿ç¨‹æ˜¯éœ€è¦è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„ interrupt æ–¹æ³•ï¼Œé€šè¿‡ java å¼‚å¸¸æœºåˆ¶æ¥å”¤é†’çº¿ç¨‹</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// do something......</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å”¤é†’ t1 çº¿ç¨‹</span>
t1<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<h3 id="ç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹"><a href="#ç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹" class="headerlink" title="ç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹"></a>ç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹</h3><p>ä½¿ç”¨ stop æ–¹æ³•æ¥ç»ˆæ­¢å¼ºè¡Œç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// do something......</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t1<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>è¿™æ ·åšå…¶å®æ˜¯éå¸¸ä¸å®‰å…¨çš„ï¼Œå› ä¸ºè¿™æ ·å¾ˆå®¹æ˜“é€ æˆæ•°æ®çš„ä¸¢å¤±ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•æ­£å¸¸çš„å…³é—­ä¸€ä¸ªçº¿ç¨‹å‘¢ï¼Ÿ</p>
<p>å½“ç„¶æ˜¯å¯ä»¥çš„ã€‚</p>
<p>è¿™ä¸ªç›®å‰åªèƒ½å¤Ÿé€šè¿‡ä»£ç çš„æ–¹å¼æ¥ç»ˆæ­¢ï¼Œè€Œä¸æ˜¯ä½¿ç”¨çº¿ç¨‹ç±»ä¸­çš„æ–¹æ³•ã€‚</p>
<p>ä¸€ä¸ªä¾‹å­</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// çº¿ç¨‹åœæ­¢çš„çŠ¶æ€</span>
    isEnd <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>isEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// do something......</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// stop to do another......</span>
        <span class="token comment">// å¦‚æœæ˜¯æ•°æ®åº“çš„è¿æ¥ï¼Œåˆ™å¯ä»¥åšå…³é—­æ•°æ®åº“è¿æ¥çš„æ“ä½œ</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åœæ­¢çº¿ç¨‹</span>
t1<span class="token punctuation">.</span>isEnd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre>

<h3 id="å…³äºçº¿ç¨‹ä¼‘çœ çš„ç–‘é—®"><a href="#å…³äºçº¿ç¨‹ä¼‘çœ çš„ç–‘é—®" class="headerlink" title="å…³äºçº¿ç¨‹ä¼‘çœ çš„ç–‘é—®"></a>å…³äºçº¿ç¨‹ä¼‘çœ çš„ç–‘é—®</h3><p>è¿™é‡Œæœ‰ä¸€æ®µä»£ç ï¼Œæˆ‘è°ƒç”¨ t çº¿ç¨‹çš„ sleep æ–¹æ³•ã€‚é‚£ä¹ˆæ˜¯ t çº¿ç¨‹ä¼šä¸ä¼šä¼‘çœ ï¼Œè¿˜æ˜¯ä¸»çº¿ç¨‹ä¼šä¸ä¼šä¼‘çœ ï¼Ÿ</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Question2</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è°ƒç”¨ t çº¿ç¨‹çš„ sleep æ–¹æ³•</span>
        t<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    	e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    system<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"he11o world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">MyThread3</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"--->"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¯·ä¸è¦ç«‹å³å±•å¼€ï¼Œå…ˆæ€è€ƒ 30 ç§’</p>
<details>
    <p>æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼Œä¸»çº¿ç¨‹ä¼‘çœ ï¼</p>
    <p>æ€ä¹ˆæ ·ï¼Œæœ‰å’Œæˆ‘ä¸€æ ·è¢«è¯¯è®¤ä¸ºæ˜¯ t çº¿ç¨‹ä¼‘çœ çš„å—ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆã€‚</p>
    <p>å› ä¸º sleep æ–¹æ³•å®ƒæ˜¯ä¸€ä¸ªé™æ€çš„æ–¹æ³•ï¼Œé™æ€æ–¹æ³•å’Œé™æ€æˆå‘˜å˜é‡éƒ½æ˜¯éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½å‘€ã€‚æ‰€ä»¥ <code>t.sleep()</code> å’Œ <code>Thread.sleep()</code> æ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œåªè¦å†™åœ¨å“ªä¸ªçº¿ç¨‹é‡Œé¢ï¼Œå°±æ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ä¸­ä¼‘çœ ã€‚</p>
</details>

<h2 id="java-å¤šçº¿ç¨‹çš„ä¸€äº›è°ƒåº¦"><a href="#java-å¤šçº¿ç¨‹çš„ä¸€äº›è°ƒåº¦" class="headerlink" title="java å¤šçº¿ç¨‹çš„ä¸€äº›è°ƒåº¦"></a>java å¤šçº¿ç¨‹çš„ä¸€äº›è°ƒåº¦</h2><h3 id="çº¿ç¨‹ä¼˜å…ˆçº§"><a href="#çº¿ç¨‹ä¼˜å…ˆçº§" class="headerlink" title="çº¿ç¨‹ä¼˜å…ˆçº§"></a>çº¿ç¨‹ä¼˜å…ˆçº§</h3><p>åœ¨ java çš„å¤šçº¿ç¨‹ä¸­ï¼Œå¯ä»¥ç»™çº¿ç¨‹è®¾ç½®ä¼˜å…ˆçº§ã€‚è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§éœ€è¦è·å–å½“å‰çš„çº¿ç¨‹å¯¹è±¡ï¼Œæ‰èƒ½å¤Ÿè®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚é¦–å…ˆï¼Œåœ¨ Thread ç±»ä¸­ï¼Œå…±æœ‰ä¸‰ä¸ªå¸¸é‡ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯æœ€ä½ä¼˜å…ˆçº§ï¼Œæ­£å¸¸ä¼˜å…ˆçº§å’Œæœ€é«˜ä¼˜å…ˆçº§ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">/**
  * The minimum priority that a thread can have.
  */</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">int</span> MIN_PRIORITY <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">/**
  * The default priority that is assigned to a thread.
  */</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">int</span> NORM_PRIORITY <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">/**
  * The maximum priority that a thread can have.
  */</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">int</span> MAX_PRIORITY <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></code></pre>

<p>å½“ç„¶ï¼Œçº¿ç¨‹çš„ä¼˜å…ˆçº§ä¹Ÿå¯ä»¥é€šè¿‡æ•°å­—ï¼ˆ1-10ï¼‰çš„æ–¹å¼æ¥è®¾ç½®ã€‚</p>
<p>ä»¥ä¸‹æ˜¯è®¾ç½®ä¼˜å…ˆçº§çš„æ–¹æ³•ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>MAX_PRIORITY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>è®¾ç½®ä¼˜å…ˆçº§çš„ç›®çš„åœ¨äºè®©è¯¥çº¿ç¨‹å¤„äºè¿è¡Œæ€çš„æ—¶é—´ä¼šæ›´ä¹…ä¸€äº›ã€‚</p>
<h3 id="çº¿ç¨‹è®©ä½"><a href="#çº¿ç¨‹è®©ä½" class="headerlink" title="çº¿ç¨‹è®©ä½"></a>çº¿ç¨‹è®©ä½</h3><p>å°±æ˜¯å½“å‰çš„çº¿ç¨‹çš„è¿è¡Œæ—¶é—´ç‰‡ï¼Œè®©ç»™å…¶å®ƒçº¿ç¨‹ã€‚åœ¨ java ä¸­ï¼Œä½¿ç”¨é™æ€ yield æ–¹æ³•æ¥å°†çº¿ç¨‹è¿›è¡Œè®©ä½</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæ¯è¿è¡Œåˆ° 10 çš„æ—¶å€™ï¼Œå°±è®©ä½ä¸€æ¬¡ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnableTest</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹"</span> <span class="token operator">+</span> thread<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¯10æ¬¡è®©ç»™ t1 çº¿ç¨‹</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code></pre>

<details>
    <summary>è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œè¯·å±•å¼€</summary>
<pre>
çº¿ç¨‹main------1
çº¿ç¨‹main------2
çº¿ç¨‹main------3
çº¿ç¨‹main------4
çº¿ç¨‹main------5
çº¿ç¨‹main------6
çº¿ç¨‹main------7
çº¿ç¨‹main------8
çº¿ç¨‹main------9
çº¿ç¨‹t1------1
çº¿ç¨‹t1------2
çº¿ç¨‹t1------3
çº¿ç¨‹t1------4
çº¿ç¨‹t1------5
çº¿ç¨‹t1------6
çº¿ç¨‹t1------7
çº¿ç¨‹t1------8
çº¿ç¨‹t1------9
çº¿ç¨‹t1------10
çº¿ç¨‹t1------11
çº¿ç¨‹t1------12
çº¿ç¨‹t1------13
çº¿ç¨‹t1------14
çº¿ç¨‹t1------15
çº¿ç¨‹t1------16
çº¿ç¨‹t1------17
çº¿ç¨‹t1------18
çº¿ç¨‹t1------19
çº¿ç¨‹t1------20
çº¿ç¨‹t1------21
çº¿ç¨‹t1------22
çº¿ç¨‹t1------23
çº¿ç¨‹t1------24
çº¿ç¨‹t1------25
çº¿ç¨‹t1------26
çº¿ç¨‹t1------27
çº¿ç¨‹t1------28
çº¿ç¨‹t1------29
çº¿ç¨‹t1------30
çº¿ç¨‹t1------31
çº¿ç¨‹t1------32
çº¿ç¨‹t1------33
çº¿ç¨‹t1------34
çº¿ç¨‹t1------35
çº¿ç¨‹t1------36
çº¿ç¨‹t1------37
çº¿ç¨‹t1------38
çº¿ç¨‹t1------39
çº¿ç¨‹t1------40
çº¿ç¨‹t1------41
çº¿ç¨‹t1------42
çº¿ç¨‹t1------43
çº¿ç¨‹t1------44
çº¿ç¨‹t1------45
çº¿ç¨‹t1------46
çº¿ç¨‹t1------47
çº¿ç¨‹t1------48
çº¿ç¨‹t1------49
çº¿ç¨‹t1------50
çº¿ç¨‹t1------51
çº¿ç¨‹t1------52
çº¿ç¨‹t1------53
çº¿ç¨‹t1------54
çº¿ç¨‹t1------55
çº¿ç¨‹t1------56
çº¿ç¨‹t1------57
çº¿ç¨‹t1------58
çº¿ç¨‹t1------59
çº¿ç¨‹t1------60
çº¿ç¨‹t1------61
çº¿ç¨‹t1------62
çº¿ç¨‹t1------63
çº¿ç¨‹t1------64
çº¿ç¨‹t1------65
çº¿ç¨‹t1------66
çº¿ç¨‹t1------67
çº¿ç¨‹t1------68
çº¿ç¨‹t1------69
çº¿ç¨‹t1------70
çº¿ç¨‹t1------71
çº¿ç¨‹t1------72
çº¿ç¨‹t1------73
çº¿ç¨‹t1------74
çº¿ç¨‹t1------75
çº¿ç¨‹t1------76
çº¿ç¨‹t1------77
çº¿ç¨‹t1------78
çº¿ç¨‹t1------79
çº¿ç¨‹t1------80
çº¿ç¨‹t1------81
çº¿ç¨‹t1------82
çº¿ç¨‹t1------83
çº¿ç¨‹t1------84
çº¿ç¨‹t1------85
çº¿ç¨‹t1------86
çº¿ç¨‹t1------87
çº¿ç¨‹t1------88
çº¿ç¨‹t1------89
çº¿ç¨‹t1------90
çº¿ç¨‹t1------91
çº¿ç¨‹t1------92
çº¿ç¨‹t1------93
çº¿ç¨‹t1------94
çº¿ç¨‹t1------95
çº¿ç¨‹t1------96
çº¿ç¨‹t1------97
çº¿ç¨‹t1------98
çº¿ç¨‹t1------99
çº¿ç¨‹t1------100
çº¿ç¨‹main------10
çº¿ç¨‹main------11
çº¿ç¨‹main------12
çº¿ç¨‹main------13
çº¿ç¨‹main------14
çº¿ç¨‹main------15
çº¿ç¨‹main------16
çº¿ç¨‹main------17
çº¿ç¨‹main------18
çº¿ç¨‹main------19
çº¿ç¨‹main------20
çº¿ç¨‹main------21
çº¿ç¨‹main------22
çº¿ç¨‹main------23
çº¿ç¨‹main------24
çº¿ç¨‹main------25
çº¿ç¨‹main------26
çº¿ç¨‹main------27
çº¿ç¨‹main------28
çº¿ç¨‹main------29
çº¿ç¨‹main------30
çº¿ç¨‹main------31
çº¿ç¨‹main------32
çº¿ç¨‹main------33
çº¿ç¨‹main------34
çº¿ç¨‹main------35
çº¿ç¨‹main------36
çº¿ç¨‹main------37
çº¿ç¨‹main------38
çº¿ç¨‹main------39
çº¿ç¨‹main------40
çº¿ç¨‹main------41
çº¿ç¨‹main------42
çº¿ç¨‹main------43
çº¿ç¨‹main------44
çº¿ç¨‹main------45
çº¿ç¨‹main------46
çº¿ç¨‹main------47
çº¿ç¨‹main------48
çº¿ç¨‹main------49
çº¿ç¨‹main------50
çº¿ç¨‹main------51
çº¿ç¨‹main------52
çº¿ç¨‹main------53
çº¿ç¨‹main------54
çº¿ç¨‹main------55
çº¿ç¨‹main------56
çº¿ç¨‹main------57
çº¿ç¨‹main------58
çº¿ç¨‹main------59
çº¿ç¨‹main------60
çº¿ç¨‹main------61
çº¿ç¨‹main------62
çº¿ç¨‹main------63
çº¿ç¨‹main------64
çº¿ç¨‹main------65
çº¿ç¨‹main------66
çº¿ç¨‹main------67
çº¿ç¨‹main------68
çº¿ç¨‹main------69
çº¿ç¨‹main------70
çº¿ç¨‹main------71
çº¿ç¨‹main------72
çº¿ç¨‹main------73
çº¿ç¨‹main------74
çº¿ç¨‹main------75
çº¿ç¨‹main------76
çº¿ç¨‹main------77
çº¿ç¨‹main------78
çº¿ç¨‹main------79
çº¿ç¨‹main------80
çº¿ç¨‹main------81
çº¿ç¨‹main------82
çº¿ç¨‹main------83
çº¿ç¨‹main------84
çº¿ç¨‹main------85
çº¿ç¨‹main------86
çº¿ç¨‹main------87
çº¿ç¨‹main------88
çº¿ç¨‹main------89
çº¿ç¨‹main------90
çº¿ç¨‹main------91
çº¿ç¨‹main------92
çº¿ç¨‹main------93
çº¿ç¨‹main------94
çº¿ç¨‹main------95
çº¿ç¨‹main------96
çº¿ç¨‹main------97
çº¿ç¨‹main------98
çº¿ç¨‹main------99
çº¿ç¨‹main------100
</pre>
</details>

<p>è¿è¡Œç»“æœå‘ç°ï¼Œå½“è¾“å‡ºåˆ° 9 æ—¶ï¼ˆå…¶å®å·²ç»æ˜¯ 10 äº†ï¼Œåªæ˜¯ 10 æ˜¯åœ¨è®©æ­¥ä¹‹åæ‰ä¼šæ‰“å°ï¼‰ ã€‚ä¸»çº¿ç¨‹å°±è®©å‡ºç»™å…¶å®ƒçº¿ç¨‹ ï¼Œç”±äºè¿™é‡Œæ˜¯ t1 å°±å¼€å§‹æ‰§è¡Œ ã€‚</p>
<p>ç”±äº t1 å·²ç»æ­»äº¡äº†ï¼Œæ­¤æ—¶ä¸»çº¿ç¨‹åœ¨</p>
<h3 id="çº¿ç¨‹åˆå¹¶"><a href="#çº¿ç¨‹åˆå¹¶" class="headerlink" title="çº¿ç¨‹åˆå¹¶"></a>çº¿ç¨‹åˆå¹¶</h3><p>çº¿ç¨‹çš„åˆå¹¶ï¼Œä½¿ç”¨ join æ–¹æ³•å¯¹çº¿ç¨‹è¿›è¡Œåˆå¹¶ ã€‚</p>
<p>ç¤ºä¾‹å¦‚ä¸‹</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnableTest</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹"</span> <span class="token operator">+</span> thread<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"------"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                t1<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<details>
    <summary>è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œè¯·å±•å¼€ï¼ˆæ‰§è¡Œç»“æœå¤ªé•¿ï¼Œçœç•¥äº†éƒ¨åˆ†ï¼‰</summary>
<pre>
çº¿ç¨‹main------1
çº¿ç¨‹t1------1
çº¿ç¨‹t1------2
çº¿ç¨‹t1------3
çº¿ç¨‹t1------4
çº¿ç¨‹t1------5
çº¿ç¨‹t1------6
çº¿ç¨‹t1------7
çº¿ç¨‹t1------8
çº¿ç¨‹t1------9
çº¿ç¨‹t1------10
çº¿ç¨‹t1------11
çº¿ç¨‹t1------12
çº¿ç¨‹t1------13
çº¿ç¨‹t1------14
çº¿ç¨‹t1------15
çº¿ç¨‹t1------16
çº¿ç¨‹t1------17
çº¿ç¨‹t1------18
çº¿ç¨‹t1------19
çº¿ç¨‹t1------20
çº¿ç¨‹t1------21
çº¿ç¨‹t1------22
çº¿ç¨‹t1------23
çº¿ç¨‹t1------24
çº¿ç¨‹t1------25
çº¿ç¨‹t1------26
çº¿ç¨‹t1------27
çº¿ç¨‹t1------28
çº¿ç¨‹t1------29
çº¿ç¨‹t1------30
çº¿ç¨‹t1------31
çº¿ç¨‹t1------32
çº¿ç¨‹t1------33
çº¿ç¨‹t1------34
çº¿ç¨‹t1------35
çº¿ç¨‹t1------36
çº¿ç¨‹t1------37
çº¿ç¨‹t1------38
çº¿ç¨‹t1------39
çº¿ç¨‹t1------40
çº¿ç¨‹t1------41
çº¿ç¨‹t1------42
çº¿ç¨‹t1------43
çº¿ç¨‹t1------44
çº¿ç¨‹t1------45
çº¿ç¨‹t1------46
çº¿ç¨‹t1------47
çº¿ç¨‹t1------48
çº¿ç¨‹t1------49
çº¿ç¨‹t1------50
çº¿ç¨‹t1------51
çº¿ç¨‹t1------52
çº¿ç¨‹t1------53
çº¿ç¨‹t1------54
çº¿ç¨‹t1------55
çº¿ç¨‹t1------56
çº¿ç¨‹t1------57
çº¿ç¨‹t1------58
çº¿ç¨‹t1------59
çº¿ç¨‹t1------60
çº¿ç¨‹t1------61
çº¿ç¨‹t1------62
çº¿ç¨‹t1------63
çº¿ç¨‹t1------64
çº¿ç¨‹t1------65
çº¿ç¨‹t1------66
çº¿ç¨‹t1------67
çº¿ç¨‹t1------68
çº¿ç¨‹t1------69
çº¿ç¨‹t1------70
çº¿ç¨‹t1------71
çº¿ç¨‹t1------72
çº¿ç¨‹t1------73
çº¿ç¨‹t1------74
çº¿ç¨‹t1------75
çº¿ç¨‹t1------76
çº¿ç¨‹t1------77
çº¿ç¨‹t1------78
çº¿ç¨‹t1------79
çº¿ç¨‹t1------80
çº¿ç¨‹t1------81
çº¿ç¨‹t1------82
çº¿ç¨‹t1------83
çº¿ç¨‹t1------84
çº¿ç¨‹t1------85
çº¿ç¨‹t1------86
çº¿ç¨‹t1------87
çº¿ç¨‹t1------88
çº¿ç¨‹t1------89
çº¿ç¨‹t1------90
çº¿ç¨‹t1------91
çº¿ç¨‹t1------92
çº¿ç¨‹t1------93
çº¿ç¨‹t1------94
çº¿ç¨‹t1------95
çº¿ç¨‹t1------96
çº¿ç¨‹t1------97
çº¿ç¨‹t1------98
çº¿ç¨‹t1------99
çº¿ç¨‹t1------100
çº¿ç¨‹main------2
çº¿ç¨‹main------3
çº¿ç¨‹main------4
çº¿ç¨‹main------5
çº¿ç¨‹main------6
çº¿ç¨‹main------7
çº¿ç¨‹main------8
çº¿ç¨‹main------9
çº¿ç¨‹main------10
çº¿ç¨‹main------11
çº¿ç¨‹main------12
çº¿ç¨‹main------13
çº¿ç¨‹main------14
çº¿ç¨‹main------15
çº¿ç¨‹main------16
çº¿ç¨‹main------17
çº¿ç¨‹main------18
çº¿ç¨‹main------19
çº¿ç¨‹main------20
çº¿ç¨‹main------21
çº¿ç¨‹main------22
çº¿ç¨‹main------23
çº¿ç¨‹main------24
çº¿ç¨‹main------25
çº¿ç¨‹main------26
çº¿ç¨‹main------27
çº¿ç¨‹main------28
çº¿ç¨‹main------29
çº¿ç¨‹main------30
çº¿ç¨‹main------31
çº¿ç¨‹main------32
çº¿ç¨‹main------33
çº¿ç¨‹main------34
çº¿ç¨‹main------35
çº¿ç¨‹main------36
çº¿ç¨‹main------37
çº¿ç¨‹main------38
çº¿ç¨‹main------39
çº¿ç¨‹main------40
çº¿ç¨‹main------41
çº¿ç¨‹main------42
çº¿ç¨‹main------43
çº¿ç¨‹main------44
çº¿ç¨‹main------45
çº¿ç¨‹main------46
çº¿ç¨‹main------47
çº¿ç¨‹main------48
çº¿ç¨‹main------49
çº¿ç¨‹main------50
çº¿ç¨‹main------51
çº¿ç¨‹main------52
çº¿ç¨‹main------53
çº¿ç¨‹main------54
çº¿ç¨‹main------55
çº¿ç¨‹main------56
çº¿ç¨‹main------57
çº¿ç¨‹main------58
.......
çº¿ç¨‹main------9997
çº¿ç¨‹main------9998
çº¿ç¨‹main------9999
çº¿ç¨‹main------10000
</pre>
</details>

<p>è¿è¡Œçš„æ•ˆæœå’Œè®©æ­¥ä¸€æ ·ï¼Ÿå…¶å®ä¸æ˜¯ã€‚å’Œè®©æ­¥çš„åŒºåˆ«å¤§ç€å‘¢ï¼Œçº¿ç¨‹åˆå¹¶æ˜¯ t1 çº¿ç¨‹åˆå¹¶åˆ°å½“å‰çº¿ç¨‹ä¸­ï¼Œæ­¤æ—¶å½“å‰çº¿ç¨‹å—é˜»ï¼ˆæš‚åœæ‰§è¡Œï¼‰ï¼Œåªèƒ½ç­‰åˆ° t1 çº¿ç¨‹ç»“æŸä¹‹åï¼Œä¸»çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚</p>
<h2 id="çº¿ç¨‹å®‰å…¨é—®é¢˜"><a href="#çº¿ç¨‹å®‰å…¨é—®é¢˜" class="headerlink" title="çº¿ç¨‹å®‰å…¨é—®é¢˜"></a>çº¿ç¨‹å®‰å…¨é—®é¢˜</h2><p>çº¿ç¨‹å®‰å…¨ï¼Œåœ¨å¤šçº¿ç¨‹ä¸­æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ã€‚é‚£ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜å‘¢ï¼Ÿ</p>
<p>ä¸¾ä¸ªä¾‹å­å§ã€‚</p>
<p>å‡å¦‚æˆ‘æœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œåå­—å« xiaohehe ï¼Œè´¦æˆ·é‡Œé¢è¿™é‡Œé¢æœ‰ 8000 å…ƒ ï¼Œæˆ‘ä¿©æ˜¯åœ¨åŒä¸€å®¶é“¶è¡Œä¸åŒçš„ä½ç½®çš„ ATM æœºã€‚æœ‰ä¸€æ¬¡ï¼Œæˆ‘å»é“¶è¡Œé‡Œå– 4000 å…ƒ ï¼Œæˆ‘æ˜¯ä¸€ä¸ªçº¿ç¨‹ ï¼Œç„¶åæˆ‘<del>å¥³æœ‹å‹ï¼ˆç›®å‰è¿˜æ²¡æœ‰å•¦ï¼‰</del>è¿™ä¸ªæ—¶å€™ä¹Ÿå»å– 4000 å…ƒ ï¼Œå¥³æœ‹å‹ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œç„¶åæˆ‘ä¿©è¿™æ—¶å€™é’±ï¼Œå–é’±çš„æ—¶å€™ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µã€‚</p>
<p><strong>1ã€åˆšå¥½å–å®Œ</strong></p>
<p>æˆ‘ï¼šå–å®Œ 4000ï¼Œæ˜¾ç¤ºçš„ä½™é¢å‰© 4000</p>
<p>æ•°æ®å–å®Œä¹‹åï¼Œä½™é¢æ›´æ–°æˆåŠŸã€‚</p>
<p>å¥³æœ‹å‹ï¼šå–å®Œ 4000ï¼Œä½™é¢ä¹Ÿæ›´æ–°æˆåŠŸï¼Œä½™é¢ä¸º 0 ã€‚</p>
<p><strong>2ã€åŒä¸€æ—¶åˆ»å–é’±</strong></p>
<p>æˆ‘ï¼šå–å®Œ 8000ï¼Œä½™é¢å‰© 4000ã€‚</p>
<p>å–å®Œä¹‹åï¼Œç”±äºç½‘ç»œå¾ˆä¸å¥½ï¼Œå¯¼è‡´ä½™é¢è¿˜æœªæ›´æ–°ï¼Œè¿˜æ˜¯ 8000ï¼Œæ­¤æ—¶å¥³æœ‹å‹æ­¤æ—¶ä¹Ÿå–äº† 4000 å…ƒã€‚</p>
<p>å¥³æœ‹å‹ï¼šå–å®Œ 8000ï¼Œä½™é¢å‰© 4000ã€‚</p>
<p>æœ‰æ²¡æœ‰å‘ç°ï¼Œä¸‹é¢è¿™ç§æƒ…å†µæ˜¯ä¸æ˜¯å¤šäº† 4000 å…ƒ ã€‚ç”±äºå–é’±è¿˜å‰©ä½™ 4000 å…ƒ ã€‚è¿™æ ·å°±å‡ºç°äº†çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç ç¤ºä¾‹æ¥éªŒè¯è¿™ä¸€æƒ³æ³•ã€‚</p>
<h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><p>è¿™æ˜¯è´¦æˆ·ç±»ï¼Œè´¦æˆ·ç±»ä¸­æœ‰ä¸€ä¸ªå–æ¬¾çš„æ–¹æ³•ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Account</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token keyword">double</span> balance<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token keyword">double</span> balance<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>balance <span class="token operator">=</span> balance<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> balance<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBalance</span><span class="token punctuation">(</span><span class="token keyword">double</span> balance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>balance <span class="token operator">=</span> balance<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">withdraw</span><span class="token punctuation">(</span><span class="token keyword">double</span> balance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// å–æ¬¾</span>
        <span class="token keyword">double</span> before <span class="token operator">=</span> <span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ä»˜é’±</span>
        <span class="token keyword">double</span> after <span class="token operator">=</span> before <span class="token operator">-</span> balance<span class="token punctuation">;</span>
        <span class="token comment">// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// æ›´æ–°</span>
        <span class="token function">setBalance</span><span class="token punctuation">(</span>after<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"Account&#123;"</span> <span class="token operator">+</span>
                <span class="token string">"balance="</span> <span class="token operator">+</span> balance <span class="token operator">+</span>
                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¿™æ˜¯ç”¨æˆ·å–æ¬¾çš„åŠ¨ä½œ Runnable ï¼Œé€šè¿‡å®ƒæ¥åˆ›å»ºçº¿ç¨‹ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">Account</span> account<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserRunnable</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>account <span class="token operator">=</span> account<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">double</span> a <span class="token operator">=</span> <span class="token number">4000</span><span class="token punctuation">;</span>
        account<span class="token punctuation">.</span><span class="token function">withdraw</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"ï¼Œå–äº†ï¼š"</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">"ï¼Œå‰©ä¸‹ï¼š"</span> <span class="token operator">+</span> account<span class="token punctuation">.</span><span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¿è¡Œæµ‹è¯•ç±»</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadSecurityTest</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// è´¦æˆ·</span>
        <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">,</span> <span class="token string">"xiaohehe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æˆ‘è‡ªå·±</span>
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserRunnable</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"me"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æˆ‘å¥³æœ‹å‹</span>
        <span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserRunnable</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å¥³ç›†å‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å…¨éƒ¨å¼€å¯</span>
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¿è¡Œçš„ç»“æœå¦‚ä¸‹ï¼Œä¸ç®¡æ˜¯å¦‚ä½•è¿è¡Œï¼Œè¿è¡Œçš„ç»“æœéƒ½æ˜¯å¦‚æ­¤ã€‚</p>
<pre class="language-none"><code class="language-none">ç”¨æˆ·ï¼šmeï¼Œå–äº†ï¼š4000.0ï¼Œå‰©ä¸‹ï¼š4000.0
ç”¨æˆ·ï¼šå¥³ç›†å‹ï¼Œå–äº†ï¼š4000.0ï¼Œå‰©ä¸‹ï¼š4000.0</code></pre>

<h3 id="å­˜åœ¨å®‰å…¨é—®é¢˜çš„ä¸‰ä¸ªæ¡ä»¶"><a href="#å­˜åœ¨å®‰å…¨é—®é¢˜çš„ä¸‰ä¸ªæ¡ä»¶" class="headerlink" title="å­˜åœ¨å®‰å…¨é—®é¢˜çš„ä¸‰ä¸ªæ¡ä»¶"></a>å­˜åœ¨å®‰å…¨é—®é¢˜çš„ä¸‰ä¸ªæ¡ä»¶</h3><ol>
<li>å¤šçº¿ç¨‹å¹¶å‘</li>
<li>æœ‰å…±äº«çš„æ•°æ®</li>
<li>ä¸”å…±äº«çš„æ•°æ®å…·æœ‰ä¿®æ”¹çš„è¡Œä¸º</li>
</ol>
<p><strong>ä¸Šé¢çš„ä¾‹å­ä¹Ÿæ­£å¥½ç¬¦åˆè¿™ä¸‰ä¸ªæ¡ä»¶ï¼Œé¦–å…ˆè´¦æˆ·æ˜¯å…±äº«çš„ï¼Œè‚¯å®šæ˜¯å¤šçº¿ç¨‹å¹¶å‘çš„ï¼Œç„¶åå–æ¬¾å°±æ˜¯ä¿®æ”¹æ•°æ®çš„æ“ä½œ</strong></p>
<h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><p>å°†çº¿ç¨‹è¿›è¡Œæ’é˜Ÿï¼Œè¯´çš„ä¸“ä¸šä¸€ç‚¹å°±æ˜¯çº¿ç¨‹åŒæ­¥äº†ã€‚ä½¿ç”¨ synchronized åŒæ­¥ä»£ç å—ï¼Œä»£ç çš„ç¤ºä¾‹å¦‚ä¸‹ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// éœ€è¦æ‰§è¡Œçš„ä»£ç </span>
<span class="token punctuation">&#125;</span></code></pre>

<p>åŒæ­¥ä»£ç å—ä¸­æœ‰ä¸€ä¸ªå°æ‹¬å·ï¼Œé‚£è¿™ä¸ª obj å°±æ˜¯å…±äº«çš„å¯¹è±¡äº†ã€‚å¦‚æœè¦è§£å†³ä¸Šé¢çš„çº¿ç¨‹é—®é¢˜ï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">withdraw</span><span class="token punctuation">(</span><span class="token keyword">double</span> balance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// å–æ¬¾</span>
        <span class="token keyword">double</span> before <span class="token operator">=</span> <span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ä»˜é’±</span>
        <span class="token keyword">double</span> after <span class="token operator">=</span> before <span class="token operator">-</span> balance<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// æ›´æ–°</span>
        <span class="token function">setBalance</span><span class="token punctuation">(</span>after<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>thisï¼Œå°±æ˜¯å½“å‰å®ä¾‹å¯¹è±¡äº†ï¼Œä¹Ÿå°±æ˜¯ Account ï¼Œå®ƒæ˜¯è¢«æˆ‘å’Œâ€œå¥³ç›†å‹â€å…±äº«çš„ï¼Œå¯ä¿®æ”¹çš„ï¼Œä¸”å¤„äºå¹¶å‘çš„ç¯å¢ƒä¸­ã€‚</p>
<h3 id="å“ªç§å˜é‡ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜"><a href="#å“ªç§å˜é‡ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜" class="headerlink" title="å“ªç§å˜é‡ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜"></a>å“ªç§å˜é‡ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜</h3><p>åœ¨ java ä¸­ï¼Œå˜é‡æœ‰ä¸‰ç§ï¼Œä¸€ä¸ªæ˜¯å±€éƒ¨å˜é‡ã€ä¸€ä¸ªæ˜¯å®ä¾‹å˜é‡ã€ä¸€ä¸ªæ˜¯é™æ€å˜é‡ã€‚åªæœ‰å±€éƒ¨å˜é‡ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚å› ä¸ºå±€éƒ¨å˜é‡æ˜¯ä¿å­˜åœ¨æ ˆä¸­çš„ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªï¼Œå°±æ˜¯å¸¸é‡ã€‚å› ä¸ºå¸¸é‡æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚</p>
<h3 id="åŒæ­¥å…³é”®å­—å†™åœ¨æ–¹æ³•ä¸Š"><a href="#åŒæ­¥å…³é”®å­—å†™åœ¨æ–¹æ³•ä¸Š" class="headerlink" title="åŒæ­¥å…³é”®å­—å†™åœ¨æ–¹æ³•ä¸Š"></a>åŒæ­¥å…³é”®å­—å†™åœ¨æ–¹æ³•ä¸Š</h3><p>å¦‚æœè¦å…±äº«çš„å¯¹è±¡å°±æ˜¯å½“å‰çš„å¯¹è±¡ï¼ˆthisï¼‰ï¼Œå¹¶ä¸”è¦æ‰§è¡Œçš„ä»£ç æ˜¯æ•´ä¸ªæ–¹æ³•ä½“ï¼Œåˆ™å¯ä»¥åœ¨æ–¹æ³•ä¸Šä½¿ç”¨åŒæ­¥å…³é”®å­—ï¼Œæ¯”å¦‚ä¸Šè¿°çš„ä¾‹å­ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">withdraw</span><span class="token punctuation">(</span><span class="token keyword">double</span> balance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å–æ¬¾</span>
    <span class="token keyword">double</span> before <span class="token operator">=</span> <span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ä»˜é’±</span>
    <span class="token keyword">double</span> after <span class="token operator">=</span> before <span class="token operator">-</span> balance<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ›´æ–°</span>
    <span class="token function">setBalance</span><span class="token punctuation">(</span>after<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>ç„¶åæ‰§è¡Œçš„æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸é‡å¤å±•ç¤ºç»“æœäº†ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>èŠ‚çœä»£ç </li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>ä¸çµæ´»ï¼Œåªèƒ½é”å®šå½“å‰å¯¹è±¡ï¼ˆthisï¼‰</li>
<li>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šæ— æ•…æ‰©å¤§åŒæ­¥çš„èŒƒå›´ï¼Œå¯¼è‡´ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡é™ä½ã€‚</li>
</ol>
<h3 id="java-æœ‰å“ªäº›ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„"><a href="#java-æœ‰å“ªäº›ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„" class="headerlink" title="java æœ‰å“ªäº›ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„"></a>java æœ‰å“ªäº›ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„</h3><p>ä¸¾ä¾‹ï¼šStringBufferã€Vectorã€Hashtable</p>
<p>çº¿ç¨‹ä¸å®‰å…¨çš„ï¼šArrayListã€HashMapã€HashSetã€StringBuilder</p>
<h3 id="ä¸ºä»€ä¹ˆçº¿ç¨‹åŒæ­¥ä¹‹åæ•ˆç‡ä¼šé™ä½"><a href="#ä¸ºä»€ä¹ˆçº¿ç¨‹åŒæ­¥ä¹‹åæ•ˆç‡ä¼šé™ä½" class="headerlink" title="ä¸ºä»€ä¹ˆçº¿ç¨‹åŒæ­¥ä¹‹åæ•ˆç‡ä¼šé™ä½"></a>ä¸ºä»€ä¹ˆçº¿ç¨‹åŒæ­¥ä¹‹åæ•ˆç‡ä¼šé™ä½</h3><p>å½“æŸä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°åŒæ­¥ä»£ç å—æˆ–è€…è¿›å…¥åˆ°åŒæ­¥å‡½æ•°çš„æ—¶å€™ï¼Œå®ƒä¼šæ”¾å¼ƒå½“å‰çš„è¿è¡ŒçŠ¶æ€ï¼Œè¿›å…¥é”æ± å»å¯»æ‰¾é”ï¼Œä¸”é”æ± é‡Œé¢åªæœ‰ä¸€æŠŠã€‚å°±æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå½“æˆ‘å»å–æ¬¾çš„æ—¶å€™ï¼Œæˆ‘ç›¸å½“äºåœ¨â€œé”æ± â€ä¸­æ‹¿åˆ°äº† â€œä¸€æŠŠé”â€ ã€‚</p>
<p>æ‹¿åˆ°â€œé”â€ä¹‹åï¼Œæ­¤æ—¶å¥³ç›†å‹å†å–æ¬¾ï¼Œå®ƒä¹Ÿè¦æ”¾å¼ƒå½“å‰çš„è¿è¡ŒçŠ¶æ€ï¼Œè¿›å…¥â€œé”æ± â€é‡Œé¢å»å¯»æ‰¾é”ã€‚æ­¤æ—¶ï¼Œå¥³ç›†å‹å°±åªèƒ½ä¸€ç›´åœ¨â€œé”æ± â€é‡Œæ‰¾é”ï¼Œè¦ç­‰åˆ°æˆ‘å–æ¬¾å®Œæˆä¹‹åï¼Œâ€œé”â€å°±è‡ªåŠ¨å›åˆ°é”æ± å½“ä¸­ã€‚ç„¶åå¥³ç›†å‹æ‰¾åˆ°é”äº†ï¼Œå°±å¯ä»¥ç»§ç»­å»å–æ¬¾äº†ã€‚</p>
<p>å…¶ä¸­ï¼Œç­‰å¾…çš„è¿‡ç¨‹å°±å¯ä»¥ç†è§£æˆæ˜¯ä¸€ç§é˜»å¡çŠ¶æ€ï¼Œæ‰€ä»¥æ•ˆç‡å°±ä½äº†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ç¨‹è¿›å…¥é”æ± æ‰¾å…±äº«å¯¹è±¡çš„å¯¹è±¡é”çš„æ—¶å€™ï¼Œä¼šé‡Šæ”¾ä¹‹å‰å æœ‰çš„CPUæ—¶é—´ç‰‡ï¼Œæœ‰å¯èƒ½æ‰¾åˆ°äº†ï¼Œæœ‰å¯èƒ½æ²¡æ‰¾åˆ°ï¼Œæ²¡æ‰¾åˆ°åˆ™åœ¨é”æ± ä¸­ç­‰å¾…ï¼Œå¦‚æœæ‰¾åˆ°äº†ä¼šè¿›å…¥å°±ç»ªçŠ¶æ€ç»§ç»­æŠ¢å¤º CPU æ—¶é—´ç‰‡ã€‚</p>
<p>å¦‚æœè¿›ç¨‹ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼ŒåŒæ ·ä¹Ÿè¦è¿›å…¥åŒæ­¥ä»£ç å—å»é”æ± ä¸­æ‹¿é”ã€‚</p>
<h3 id="åœ¨é™æ€æ–¹æ³•ä¸Šä½¿ç”¨åŒæ­¥å…³é”®å­—"><a href="#åœ¨é™æ€æ–¹æ³•ä¸Šä½¿ç”¨åŒæ­¥å…³é”®å­—" class="headerlink" title="åœ¨é™æ€æ–¹æ³•ä¸Šä½¿ç”¨åŒæ­¥å…³é”®å­—"></a>åœ¨é™æ€æ–¹æ³•ä¸Šä½¿ç”¨åŒæ­¥å…³é”®å­—</h3><p>åœ¨é™æ€æ–¹æ³•ä¸Šä½¿ç”¨åŒæ­¥å…³é”®å­—ï¼Œè¡¨ç¤ºæ‰¾ç±»é”ã€‚ç±»é”æ°¸è¿œåªæœ‰ 1 æŠŠã€‚å°±ç®—åˆ›å»ºäº† 100 ä¸ªå¯¹è±¡ï¼Œé‚£ç±»é”ä¹Ÿåªæœ‰ä¸€æŠŠã€‚</p>
<p>ä½¿ç”¨ç±»é”æ¥ä¿è¯é™æ€å˜é‡çš„å®‰å…¨ã€‚</p>
<p><strong>4 ä¸ªæœ‰å…³åŒæ­¥å…³é”®å­—çš„é¢è¯•é¢˜</strong></p>
<p>æœ‰å¦‚ä¸‹ä»£ç  ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doSome begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
			<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span> millis<span class="token operator">:</span> <span class="token number">1080</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doSome over"</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doOther begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"doOther over"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹ç±»ã€‚å¦‚æœæ˜¯ t1 çº¿ç¨‹ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œ <code>doSome</code> æ–¹æ³•ï¼Œå¦åˆ™å°±æ‰§è¡Œ <code>doOther</code> æ–¹æ³•ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">MyClass</span> mc<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token class-name">MyClass</span> mc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mc <span class="token operator">=</span> mc<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            mc<span class="token punctuation">.</span><span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"t2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            mc<span class="token punctuation">.</span><span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>ä¸»çº¿ç¨‹ä¸­åšçš„äº‹æƒ…</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MyClass</span> mc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>mc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>mc<span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™ä¸ªç¡çœ çš„ä½œç”¨æ˜¯:ä¸ºäº†ä¿è¯t1çº¿ç¨‹å…ˆæ‰§è¡Œã€‚</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>é—® 1ï¼šå¦‚æœåœ¨ <code>doSome</code> æ–¹æ³•æ·»åŠ äº†åŒæ­¥å…³é”®å­—ï¼Œ<code>doOther</code> æ–¹æ³•æ²¡æœ‰æ·»åŠ ï¼Œé‚£ä¹ˆ <code>doOther</code> æ–¹æ³•éœ€è¦ç­‰å¾… <code>doSome</code> æ–¹æ³•ç»“æŸå—ï¼Ÿ</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// çœç•¥ä»£ç  ï¼Œå› ä¸ºä¸Šé¢æœ‰......</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// çœç•¥ä»£ç  ï¼Œå› ä¸ºä¸Šé¢æœ‰......</span>
<span class="token punctuation">&#125;</span></code></pre>

<details>
    <summary>æ€è€ƒ 30s ä¹‹åå†å±•å¼€ç­”æ¡ˆ</summary>
    <p>ä¸éœ€è¦</p>
    <p>å› ä¸ºè°ƒç”¨ t2 æ–¹æ³•ä¸æ˜¯åŒæ­¥å‡½æ•°ï¼Œä¸éœ€è¦æ‹¿é”</p>
</details>

<p>é—® 2ï¼šå¦‚æœåœ¨<code>doSome</code>ã€<code>doOther</code>æ–¹æ³•éƒ½æ·»åŠ äº†åŒæ­¥å…³é”®å­—ï¼Œé‚£ä¹ˆ <code>doOther</code> æ–¹æ³•éœ€è¦ç­‰å¾… <code>doSome</code> æ–¹æ³•ç»“æŸå—ï¼Ÿ</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// çœç•¥ä»£ç  ï¼Œå› ä¸ºä¸Šé¢æœ‰......</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// çœç•¥ä»£ç  ï¼Œå› ä¸ºä¸Šé¢æœ‰......</span>
<span class="token punctuation">&#125;</span></code></pre>

<details>
    <summary>æ€è€ƒ 30s ä¹‹åå†å±•å¼€ç­”æ¡ˆ</summary>
    <p>éœ€è¦</p>
    <p>å› ä¸º t2 æ–¹æ³•éœ€è¦è¿›å…¥åŒæ­¥ä»£ç å—ï¼Œä¸”å°† synchronized å…³é”®å­—å†™åœ¨å®ä¾‹æ–¹æ³•ä¸Šå°±æ˜¯æ‹¿åˆ°å½“å‰å¯¹è±¡çš„é”ï¼Œå½“å‰å¯¹è±¡çš„é”æ˜¯<b style="color: red;">åªæœ‰ä¸€æŠŠçš„ï¼</b>ï¼Œæ‰€ä»¥éœ€è¦ç­‰å¾… doSome æ–¹æ³•æ‰§è¡Œç»“æŸ</p>
</details>

<p>é—® 3ï¼šå°†ä¸»çº¿ç¨‹çš„ä»£ç æ”¹æˆå¦‚ä¸‹å½¢å¼ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MyClass</span> mc1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyClass</span> mc2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>mc1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>mc2<span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™ä¸ªç¡çœ çš„ä½œç”¨æ˜¯:ä¸ºäº†ä¿è¯t1çº¿ç¨‹å…ˆæ‰§è¡Œã€‚</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p><code>MyClass</code> ç±»ä¸­çš„æ–¹æ³•å’Œç¬¬äºŒé—®æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆ <code>doOther</code> æ–¹æ³•éœ€è¦ç­‰å¾… <code>doSome</code> æ–¹æ³•ç»“æŸå—ï¼Ÿ</p>
<details>
    <summary>æ€è€ƒ 30s ä¹‹åå†å±•å¼€ç­”æ¡ˆ</summary>
    <p>ä¸éœ€è¦</p>
    <p>è™½ç„¶éƒ½è¿›å…¥äº† synchronized å…³é”®å­—ï¼Œä½†æ˜¯ï¼Œmc1 å’Œ mc2 æ˜¯ä¸¤ä¸ªå¯¹è±¡ï¼Œä¸å…±äº«çš„ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªçº¿ç¨‹æ‰€æ‹¿åˆ°çš„é”æ˜¯<b style="color: red;">ä¸¤æŠŠä¸ä¸€æ ·çš„ï¼</b>ï¼Œæ‰€ä»¥ä¸éœ€è¦ç­‰å¾… doSome æ–¹æ³•æ‰§è¡Œç»“æŸ</p>
</details>

<p>é—® 4ï¼šç»™<code>doSome</code>ã€<code>doOther</code>æ–¹æ³•éƒ½æ·»åŠ äº†é™æ€å…³é”®å­—ï¼Œä¸»çº¿ç¨‹ä¸­å’Œç¬¬ä¸‰é—®ä¸€æ ·</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// çœç•¥ä»£ç  ï¼Œå› ä¸ºä¸Šé¢æœ‰......</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// çœç•¥ä»£ç  ï¼Œå› ä¸ºä¸Šé¢æœ‰......</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>é‚£ä¹ˆ <code>doOther</code> æ–¹æ³•éœ€è¦ç­‰å¾… <code>doSome</code> æ–¹æ³•ç»“æŸå—ï¼Ÿ</p>
<details>
    <summary>æ€è€ƒ 30s ä¹‹åå†å±•å¼€ç­”æ¡ˆ</summary>
    <p>éœ€è¦</p>
    <p>è™½ç„¶éƒ½è¿›å…¥äº† synchronized å…³é”®å­—ï¼Œä¸” mc1 å’Œ mc2 æ˜¯ä¸¤ä¸ªå¯¹è±¡ï¼Œä¸å…±äº«çš„ï¼Œä½†è¿™ä¸ªæ–¹æ³•æ˜¯é™æ€çš„ï¼Œè°ƒç”¨çš„æ˜¯é™æ€æ–¹æ³•ã€‚æ‰€ä»¥é”çš„æ€§è´¨å˜äº†ï¼Œå˜æˆäº†<b style="color: red;">ç±»é”</b>ï¼Œæ‰€ä»¥éœ€è¦ç­‰å¾… doSome æ–¹æ³•æ‰§è¡Œç»“æŸ</p>
</details>

<h2 id="çº¿ç¨‹æ­»é”"><a href="#çº¿ç¨‹æ­»é”" class="headerlink" title="çº¿ç¨‹æ­»é”"></a>çº¿ç¨‹æ­»é”</h2><p>çº¿ç¨‹æ­»é”åœ¨ä»¥ä¸‹æƒ…å†µä¼šå‘ç”Ÿï¼Œä¸»è¦æ˜¯åœ¨åŒæ­¥ä»£ç å—åµŒå¥—çš„æƒ…å†µæœ‰æå¤§çš„å¯èƒ½ä¼šæ­»é”ã€‚ä»£ç å¦‚ä¸‹ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThreadLockTest</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Object</span> o1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThreadLock1</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThreadLock2</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"t2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">MyThreadLock1</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">Object</span> o1<span class="token punctuation">,</span> o2<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyThreadLock1</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o1<span class="token punctuation">,</span> <span class="token class-name">Object</span> o2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>o1 <span class="token operator">=</span> o1<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>o2 <span class="token operator">=</span> o2<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>o1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ï¼š"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"ï¼Œè¿è¡Œä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>o2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ï¼š"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"ï¼Œè¿è¡Œç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">MyThreadLock2</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">Object</span> o1<span class="token punctuation">,</span> o2<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyThreadLock2</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o1<span class="token punctuation">,</span> <span class="token class-name">Object</span> o2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>o1 <span class="token operator">=</span> o1<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>o2 <span class="token operator">=</span> o2<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>o2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ï¼š"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"ï¼Œè¿è¡Œä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>o1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ï¼š"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"ï¼Œè¿è¡Œç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œç¨‹åºæ°¸è¿œä¸ä¼šåœæ­¢ã€‚</p>
<pre class="language-none"><code class="language-none">çº¿ç¨‹ï¼št2ï¼Œè¿è¡Œä¸­
çº¿ç¨‹ï¼št1ï¼Œè¿è¡Œä¸­</code></pre>

<p>å› ä¸ºç¨‹åºå·²ç»å¤„äºæ­»é”çŠ¶æ€ï¼Œå¤„äºæ­»é”çš„åŸå› æ˜¯ o1 å’Œ o2 æ˜¯å…±äº«çš„ï¼Œä¸”çº¿ç¨‹ t1 æ‹¿åˆ° o1 é”ä¹‹åï¼Œt2 æ‹¿åˆ° o2 é” ã€‚è°ä¹Ÿä¸æ„¿æ„é‡Šæ”¾é” ï¼Œæ‰€ä»¥å°±é€ æˆäº†æ­»é”ã€‚</p>
<h2 id="å®ˆæŠ¤çº¿ç¨‹"><a href="#å®ˆæŠ¤çº¿ç¨‹" class="headerlink" title="å®ˆæŠ¤çº¿ç¨‹"></a>å®ˆæŠ¤çº¿ç¨‹</h2><p>å®ˆæŠ¤çº¿ç¨‹æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯ä¸»çº¿ç¨‹å·²ç»ç»“æŸï¼Œåˆ›å»ºçš„çº¿ç¨‹ä¸ç®¡æ˜¯å¦å®Œæˆå°±ä¹Ÿä¼šç»“æŸã€‚è¿™é‡Œå†™ä¸€ä¸ªæ­»å¾ªç¯ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DaemonThreadTest</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">DaemonThread</span> daemonThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DaemonThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        daemonThread<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        daemonThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">DaemonThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¾ªç¯äº† "</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">++</span>count<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" æ¬¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è¿è¡Œç»“æœå°±ä¸å±•ç¤ºäº†ï¼Œæ— è®ºå¦‚ä½•éƒ½ä¼šç»“æŸçš„ã€‚</p>
<h2 id="ç¬¬ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼"><a href="#ç¬¬ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼" class="headerlink" title="ç¬¬ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼"></a>ç¬¬ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼</h2><p>åˆ›å»ºç¬¬ä¸‰ç§çº¿ç¨‹çš„æ–¹å¼ä½¿ç”¨çš„æ˜¯ FutureTask ç±»ï¼Œç„¶åéœ€è¦å®ç° Callable æ¥å£ã€‚è¿™ç§æ–¹å¼åˆ›å»ºçº¿ç¨‹åªæœ‰åœ¨ jdk 1.8 åŠå…¶ä»¥ä¸Šçš„ç‰ˆæœ¬æ‰èƒ½å¤Ÿå®ç°ã€‚</p>
<p>ä¸ä»…å¦‚æ­¤ï¼ŒCallable æ¥å£éœ€è¦å®ç°çš„ call æ–¹æ³•å¯æ˜¯æœ‰è¿”å›å€¼çš„ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­çš„è¿”å›å€¼ã€‚</p>
<p>ä»£ç ç¤ºä¾‹å¦‚ä¸‹</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Callable</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutionException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">FutureTask</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FutureTaskTest</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"task å¼€å§‹æ‰§è¡Œï¼Œç­‰å¾…10ç§’"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"task ç»“æŸæ‰§è¡Œï¼Œè®¡ç®—1~100çš„å’Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// åˆ›å»ºä¸€ä¸ªçº¿ç¨‹</span>
        <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–çº¿ç¨‹ä¸­è¿è¡Œçš„ç»“æœï¼Œå½“çº¿ç¨‹ä¸­çš„ä»»åŠ¡æœªç»“æŸæ—¶ï¼Œå®ƒå°±ä¸€ç›´ç­‰å¾…ã€‚</span>
        <span class="token class-name">Integer</span> integer <span class="token operator">=</span> task<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¾—åˆ°çš„ç»“æœï¼š"</span> <span class="token operator">+</span> integer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¨‹åºè¿è¡Œåˆ°åº•äº†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code></pre>

<p>è¿è¡Œçš„ç»“æœå’Œåœ¨çº¿ç¨‹ä¸­ä½¿ç”¨ <code>join</code>æ–¹æ³•ç±»ä¼¼ã€‚</p>
<h2 id="wait-å’Œ-notify"><a href="#wait-å’Œ-notify" class="headerlink" title="wait å’Œ notify"></a>wait å’Œ notify</h2><p>wait å’Œ notify æ–¹æ³•ä¸æ˜¯é€šè¿‡çº¿ç¨‹å¯¹è±¡çš„æ–¹æ³•ï¼Œæ˜¯ java ä¸­ä»»ä½•ä¸€ä¸ª java å¯¹è±¡éƒ½æœ‰çš„æ–¹æ³•ï¼Œå› ä¸º Object ç±»ä¸­å°±æœ‰ wait å’Œ notify æ–¹æ³•ã€‚é‚£ä¹ˆï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„å«ä¹‰åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h3 id="wait"><a href="#wait" class="headerlink" title="wait"></a>wait</h3><p>è¡¨ç¤º o å¯¹è±¡æ´»åŠ¨çš„çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œæ— é™æœŸç­‰å¾…ã€‚ç›´åˆ°è¢«å”¤é†’ä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¿›ç¨‹ä¸­æœ‰ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨å…¶ wait æ–¹æ³•ã€‚ä»–å°±ä¸€ç›´ç­‰å¾…ç€ã€‚æ¯”å¦‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">User</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
u<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h3 id="notify"><a href="#notify" class="headerlink" title="notify"></a>notify</h3><p>å”¤é†’æ­£åœ¨ o å¯¹è±¡ä¸Šç­‰å¾…çš„çº¿ç¨‹ã€‚è¿˜æœ‰ä¸€ä¸ª <code>notifyAll</code> æ–¹æ³•ï¼Œè¡¨ç¤ºçš„æ˜¯å”¤é†’ o å¯¹è±¡ä¸Šå¤„äºç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java">u<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h3 id="ä½¿ç”¨æƒ…å†µ"><a href="#ä½¿ç”¨æƒ…å†µ" class="headerlink" title="ä½¿ç”¨æƒ…å†µ"></a>ä½¿ç”¨æƒ…å†µ</h3><p>åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¿…é¡»è¦ç»“åˆ synchronized åŒæ­¥ä»£ç å—æ¥ä½¿ç”¨æ‰èƒ½ç”Ÿæ•ˆï¼Œå¦åˆ™å°±ä¼šæŠ¥å‡ºä»¥ä¸‹å¼‚å¸¸ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Exception</span> in thread <span class="token string">"main"</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>IllegalMonitorStateException</span></code></pre>

<h2 id="ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…"><a href="#ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…" class="headerlink" title="ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…"></a>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…</h2><p>ç”Ÿäº§è€…æ¶ˆè´¹è€…æ˜¯ä¸€ç§å¤šçº¿ç¨‹çš„æ¨¡å‹ï¼Œè™½ç„¶åœ¨å­¦ä¹ ç›®å‰è¿˜æ²¡é‡åˆ°è¿‡çœŸæ­£çš„ä½¿ç”¨åœºæ™¯ã€‚ä¸è¿‡ç®€å•çš„ä¾‹å­è¿˜æ˜¯çŸ¥é“çš„ã€‚</p>
<h3 id="ç”Ÿäº§è€…çº¿ç¨‹ç±»"><a href="#ç”Ÿäº§è€…çº¿ç¨‹ç±»" class="headerlink" title="ç”Ÿäº§è€…çº¿ç¨‹ç±»"></a>ç”Ÿäº§è€…çº¿ç¨‹ç±»</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * ç”Ÿäº§è€…ï¼Œç”Ÿäº§è€…åªç”Ÿäº§ä¸€ä¸ª
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Producer2</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Producer2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>arr <span class="token operator">=</span> arr<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                        arr<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                    arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"--->"</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    arr<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="æ¶ˆè´¹è€…çº¿ç¨‹ç±»"><a href="#æ¶ˆè´¹è€…çº¿ç¨‹ç±»" class="headerlink" title="æ¶ˆè´¹è€…çº¿ç¨‹ç±»"></a>æ¶ˆè´¹è€…çº¿ç¨‹ç±»</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * æ¶ˆè´¹è€…
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Consumer2</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Consumer2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>arr <span class="token operator">=</span> arr<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                        arr<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                    arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"--->"</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    arr<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="ä¸»çº¿ç¨‹æµ‹è¯•"><a href="#ä¸»çº¿ç¨‹æµ‹è¯•" class="headerlink" title="ä¸»çº¿ç¨‹æµ‹è¯•"></a>ä¸»çº¿ç¨‹æµ‹è¯•</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChangeTestOut</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token class-name">Thread</span> thread1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Producer2</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Consumer2</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        thread1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿäº§è€…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆè´¹è€…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        thread1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code></pre>

<p>è¿è¡Œçš„ç»“æœæ˜¯äº¤æ›¿è¿›è¡Œçš„ã€‚</p>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>BestGuo2020</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://www.bestguo.top/journal/java-multi-thread/" title="Java çš„å¤šçº¿ç¨‹">https://www.bestguo.top/journal/java-multi-thread/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> è®¸å¯åè®®ã€‚</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/journal/spring-cloud-totoral/" rel="prev" title="åˆè§å¾®æœåŠ¡å’ŒSpring Cloud"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">åˆè§å¾®æœåŠ¡å’ŒSpring Cloud</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/journal/view-width-and-view-height/" rel="next" title="view width å’Œ view height"><span class="post-nav-text">view width å’Œ view height</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¯·è¯¸ä½ç†æ€§å‘è¨€ï¼</span><br><span>è¯·å‹¿å‘å¸ƒè¿åä¸­å›½å¤§é™†åœ°åŒºæ³•å¾‹çš„è¨€è®ºï¼Œè¯·å‹¿äººèº«æ”»å‡»ã€è°©éª‚ã€ä¾®è¾±å’Œç…½åŠ¨å¼çš„è¯­è¨€ã€‚</span><br></div><div id="waline"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.css"><script>window.CONFIG.waline.config.path = "/journal/java-multi-thread/"</script><div class="js-Pjax"><script src="/js/comments/waline.js" type="module" defer></script></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">èµ£ ICP å¤‡ 20009988 å·</a></div><div class="copyright"><span>&copy; 2019 â€“ 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> BestGuo2020</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v6.2.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.0</span></div><div class="live-time"><span>æœ¬ç«™ç‚¹å·²æ­£å¸¸åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text"><br/>â™¬(ãƒã‚œâˆ‡ã‚œ)ãƒâ™©<br></span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2019-01-01T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} å¤© ${passHour} å°æ—¶ ${passMinute} åˆ† ${passSecond} ç§’`;
}
blog_live_time();
</script></div><div id="busuanzi"><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><span class="icon iconify" data-icon="ri:user-line"></span></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><span class="icon iconify" data-icon="ri:eye-line"></span></span><span id="busuanzi_value_site_pv"></span></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="footer-support"><span>æœ¬ç½‘ç«™ç”±</span><a class="footer-support-logo" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" target="blank" title="åˆæ‹äº‘"><img height="30" src="https://cdn.yunyoujun.cn/img/logo/upyun-logo.png" alt="åˆæ‹äº‘"></a><span>æä¾› CDN åŠ é€ŸæœåŠ¡</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div></div></body></html>